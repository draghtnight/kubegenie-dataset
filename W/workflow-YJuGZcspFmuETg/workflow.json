[
  {
    "apiVersion": "policy/v1",
    "kind": "PodDisruptionBudget",
    "metadata": {
      "name": "drycc-nsqd"
    },
    "spec": {
      "minAvailable": 1,
      "selector": {
        "matchLabels": {
          "app": "drycc-nsqd"
        }
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-builder",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-controller",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-database",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-logger-fluentd",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-logger",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-minio",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-monitor-telegraf",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-nsqd",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-passport",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-rabbitmq",
      "labels": {
        "app": "drycc-rabbitmq",
        "heritage": "drycc"
      }
    },
    "secrets": [
      {
        "name": "drycc-rabbitmq"
      }
    ]
  },
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "drycc-registry",
      "labels": {
        "heritage": "drycc"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "influxdb-creds",
      "labels": {
        "heritage": "drycc"
      }
    },
    "type": "Opaque",
    "data": {
      "user": "YWRtaW4=",
      "password": "YWRtaW4xMjM=",
      "bucket": "a3ViZXJuZXRlcw==",
      "org": "b3Jn",
      "token": "UWF2M1RFNG5FNGpLR1FEVXpOTUdJY0dKYlc1Ym5wSEY="
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "objectstorage-keyfile",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "drycc.cc/objectstorage": "minio"
      }
    },
    "type": "Opaque",
    "data": {
      "accesskey": "OFRaUlkySlJXTVBUNlVNWFI2STU=",
      "secretkey": "Z2JzdHJPdm90TU1jZzJzTWZHVWhBNWE2RXQvRUk1QUx0SUhzb2JZaw==",
      "builder-bucket": "MGZhZDYwNTE3YTllNDIyNWEwN2Q3N2Q3YjliNTg2Mjk=",
      "registry-bucket": "YzJkYTUzZjExYzdhNDU1ZGIzNTc5N2MzYmE2MjVkODA=",
      "database-bucket": "ZTk1ZWI1YzU0YzNhNDA0N2FiZTUyNjlhNjhmYTlhNjc="
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ConfigMap",
    "metadata": {
      "name": "imagebuilder-config",
      "labels": {
        "heritage": "drycc"
      }
    },
    "data": {
      "images.json": "[\n    {\n        \"name\": \"container\",\n        \"image\": \"docker.io/drycc/imagebuilder:1.0.1\"\n    },\n    {\n        \"name\": \"buildpack\",\n        \"image\": \"docker.io/drycc/imagebuilder:1.0.1\"\n    }\n]\n",
      "registries.conf": "unqualified-search-registries = [\"docker.io\"]\nshort-name-mode=\"permissive\"\n",
      "image_pull_policy": "Always"
    }
  },
  {
    "kind": "ClusterRole",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc:drycc-builder",
      "labels": {
        "app": "drycc-builder",
        "heritage": "drycc"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "namespaces"
        ],
        "verbs": [
          "list"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "secrets"
        ],
        "verbs": [
          "list",
          "get"
        ]
      }
    ]
  },
  {
    "kind": "ClusterRole",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc:drycc-controller",
      "labels": {
        "app": "drycc-controller",
        "heritage": "drycc"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "namespaces"
        ],
        "verbs": [
          "get",
          "list",
          "create",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "services"
        ],
        "verbs": [
          "get",
          "list",
          "create",
          "update",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "nodes"
        ],
        "verbs": [
          "get",
          "list"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "events"
        ],
        "verbs": [
          "list",
          "create"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "secrets"
        ],
        "verbs": [
          "list",
          "get",
          "create",
          "update",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "replicationcontrollers"
        ],
        "verbs": [
          "get",
          "list",
          "create",
          "update",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "replicationcontrollers/scale"
        ],
        "verbs": [
          "get",
          "update"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "pods/log"
        ],
        "verbs": [
          "get"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "pods"
        ],
        "verbs": [
          "get",
          "list",
          "create",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "resourcequotas"
        ],
        "verbs": [
          "get",
          "create"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "limitranges"
        ],
        "verbs": [
          "get",
          "create"
        ]
      },
      {
        "apiGroups": [
          "extensions"
        ],
        "resources": [
          "replicasets"
        ],
        "verbs": [
          "get",
          "list",
          "delete",
          "update"
        ]
      },
      {
        "apiGroups": [
          "extensions",
          "apps"
        ],
        "resources": [
          "deployments"
        ],
        "verbs": [
          "get",
          "list",
          "create",
          "update",
          "delete"
        ]
      },
      {
        "apiGroups": [
          "extensions",
          "apps"
        ],
        "resources": [
          "deployments/scale",
          "replicasets/scale"
        ],
        "verbs": [
          "get",
          "update"
        ]
      },
      {
        "apiGroups": [
          "extensions",
          "autoscaling"
        ],
        "resources": [
          "horizontalpodautoscalers"
        ],
        "verbs": [
          "get",
          "list",
          "create",
          "update",
          "delete"
        ]
      },
      {
        "apiGroups": [
          "extensions"
        ],
        "resources": [
          "ingresses"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "update",
          "delete"
        ]
      },
      {
        "apiGroups": [
          "cert-manager.io"
        ],
        "resources": [
          "certificates",
          "issuers"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "update",
          "delete"
        ]
      },
      {
        "apiGroups": [
          "networking.k8s.io"
        ],
        "resources": [
          "ingresses"
        ],
        "verbs": [
          "get",
          "list",
          "create",
          "delete",
          "deletecollection",
          "patch",
          "update"
        ]
      },
      {
        "apiGroups": [
          "apps"
        ],
        "resources": [
          "replicasets"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "persistentvolumeclaims"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "delete",
          "patch",
          "update"
        ]
      },
      {
        "apiGroups": [
          "servicecatalog.k8s.io"
        ],
        "resources": [
          "serviceinstances"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "delete",
          "patch",
          "update"
        ]
      },
      {
        "apiGroups": [
          "servicecatalog.k8s.io"
        ],
        "resources": [
          "servicebindings"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "delete",
          "patch",
          "update"
        ]
      }
    ]
  },
  {
    "kind": "ClusterRole",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc:drycc-logger-fluentd",
      "labels": {
        "app": "drycc-logger-fluentd",
        "heritage": "drycc"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "pods",
          "namespaces"
        ],
        "verbs": [
          "list",
          "get",
          "watch"
        ]
      }
    ]
  },
  {
    "kind": "ClusterRole",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc:drycc-monitor"
    },
    "aggregationRule": {
      "clusterRoleSelectors": [
        {
          "matchLabels": {
            "rbac.authorization.k8s.io/aggregate-view-telegraf-stats": "true"
          }
        },
        {
          "matchLabels": {
            "rbac.authorization.k8s.io/aggregate-to-view": "true"
          }
        }
      ]
    },
    "rules": []
  },
  {
    "kind": "ClusterRole",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc:drycc-monitor-telegraf",
      "labels": {
        "rbac.authorization.k8s.io/aggregate-view-telegraf-stats": "true",
        "app": "drycc-monitor-telegraf",
        "heritage": "drycc"
      }
    },
    "rules": [
      {
        "apiGroups": [
          "metrics.k8s.io"
        ],
        "resources": [
          "pods"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "pods",
          "persistentvolumes",
          "nodes",
          "nodes/proxy",
          "nodes/stats"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      }
    ]
  },
  {
    "kind": "ClusterRoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc:drycc-builder",
      "labels": {
        "app": "drycc-builder",
        "heritage": "drycc"
      }
    },
    "roleRef": {
      "apiGroup": "rbac.authorization.k8s.io",
      "kind": "ClusterRole",
      "name": "drycc:drycc-builder"
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "drycc-builder",
        "namespace": "default"
      }
    ]
  },
  {
    "kind": "ClusterRoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc:drycc-controller",
      "labels": {
        "app": "drycc-controller",
        "heritage": "drycc"
      }
    },
    "roleRef": {
      "apiGroup": "rbac.authorization.k8s.io",
      "kind": "ClusterRole",
      "name": "drycc:drycc-controller"
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "drycc-controller",
        "namespace": "default"
      }
    ]
  },
  {
    "kind": "ClusterRoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc:drycc-logger-fluentd",
      "labels": {
        "app": "drycc-logger-fluentd",
        "heritage": "drycc"
      }
    },
    "roleRef": {
      "apiGroup": "rbac.authorization.k8s.io",
      "kind": "ClusterRole",
      "name": "drycc:drycc-logger-fluentd"
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "drycc-logger-fluentd",
        "namespace": "default"
      }
    ]
  },
  {
    "kind": "ClusterRoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc:drycc-monitor-telegraf",
      "labels": {
        "app": "drycc-monitor-telegraf",
        "heritage": "drycc"
      }
    },
    "roleRef": {
      "apiGroup": "rbac.authorization.k8s.io",
      "kind": "ClusterRole",
      "name": "drycc:drycc-monitor-telegraf"
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "drycc-monitor-telegraf",
        "namespace": "default"
      }
    ]
  },
  {
    "kind": "Role",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc-builder",
      "labels": {
        "app": "drycc-builder",
        "heritage": "drycc"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "secrets"
        ],
        "verbs": [
          "create",
          "update",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "pods"
        ],
        "verbs": [
          "create",
          "get",
          "watch",
          "list"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "pods/log"
        ],
        "verbs": [
          "get"
        ]
      },
      {
        "apiGroups": [
          "batch"
        ],
        "resources": [
          "jobs"
        ],
        "verbs": [
          "create"
        ]
      }
    ]
  },
  {
    "kind": "RoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "drycc-builder",
      "labels": {
        "app": "drycc-builder",
        "heritage": "drycc"
      }
    },
    "roleRef": {
      "apiGroup": "rbac.authorization.k8s.io",
      "kind": "Role",
      "name": "drycc-builder"
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "drycc-builder"
      }
    ]
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-builder",
      "labels": {
        "heritage": "drycc"
      }
    },
    "spec": {
      "ports": [
        {
          "name": "ssh",
          "port": 2222,
          "targetPort": 2223
        }
      ],
      "selector": {
        "app": "drycc-builder"
      },
      "type": "ClusterIP"
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-controller",
      "labels": {
        "heritage": "drycc"
      }
    },
    "spec": {
      "ports": [
        {
          "name": "http",
          "port": 80,
          "targetPort": 8000
        }
      ],
      "selector": {
        "app": "drycc-controller"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-database",
      "labels": {
        "heritage": "drycc"
      }
    },
    "spec": {
      "ports": [
        {
          "name": "postgres",
          "port": 5432
        }
      ],
      "selector": {
        "app": "drycc-database"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-influxdb",
      "labels": {
        "heritage": "drycc",
        "app": "drycc-influxdb"
      }
    },
    "spec": {
      "ports": [
        {
          "port": 80,
          "name": "transport",
          "targetPort": "transport"
        }
      ],
      "selector": {
        "app": "drycc-influxdb"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-logger",
      "labels": {
        "heritage": "drycc",
        "app": "drycc-logger"
      }
    },
    "spec": {
      "ports": [
        {
          "port": 80,
          "name": "http",
          "targetPort": "http"
        }
      ],
      "selector": {
        "app": "drycc-logger"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-minio",
      "labels": {
        "heritage": "drycc"
      }
    },
    "spec": {
      "ports": [
        {
          "name": "s3",
          "port": 9000
        }
      ],
      "selector": {
        "app": "drycc-minio"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-monitor-grafana",
      "labels": {
        "heritage": "drycc",
        "app": "drycc-monitor-grafana"
      }
    },
    "spec": {
      "ports": [
        {
          "port": 80,
          "name": "ui",
          "targetPort": "ui"
        }
      ],
      "selector": {
        "app": "drycc-monitor-grafana"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-nsqd",
      "labels": {
        "heritage": "drycc",
        "app": "drycc-nsqd"
      }
    },
    "spec": {
      "clusterIP": "None",
      "ports": [
        {
          "port": 4150,
          "name": "transport",
          "targetPort": "transport"
        },
        {
          "port": 4151,
          "name": "http",
          "targetPort": "http"
        }
      ],
      "selector": {
        "app": "drycc-nsqd"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-passport",
      "labels": {
        "heritage": "drycc"
      }
    },
    "spec": {
      "ports": [
        {
          "name": "http",
          "port": 80,
          "targetPort": 8000
        }
      ],
      "selector": {
        "app": "drycc-passport"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-rabbitmq",
      "labels": {
        "heritage": "drycc"
      }
    },
    "spec": {
      "clusterIP": "None",
      "selector": {
        "app": "drycc-rabbitmq"
      },
      "ports": [
        {
          "port": 5672
        }
      ]
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-redis",
      "labels": {
        "heritage": "drycc"
      }
    },
    "spec": {
      "clusterIP": "None",
      "selector": {
        "app": "drycc-redis"
      },
      "ports": [
        {
          "port": 6379
        }
      ]
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "drycc-registry",
      "labels": {
        "heritage": "drycc"
      }
    },
    "spec": {
      "ports": [
        {
          "name": "http",
          "port": 80,
          "targetPort": 5000
        }
      ],
      "selector": {
        "app": "drycc-registry"
      },
      "sessionAffinity": "ClientIP"
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "DaemonSet",
    "metadata": {
      "name": "drycc-logger-fluentd",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.2.0"
      }
    },
    "spec": {
      "selector": {
        "matchLabels": {
          "app": "drycc-logger-fluentd",
          "heritage": "drycc"
        }
      },
      "template": {
        "metadata": {
          "name": "drycc-logger-fluentd",
          "labels": {
            "heritage": "drycc",
            "app": "drycc-logger-fluentd"
          }
        },
        "spec": {
          "serviceAccount": "drycc-logger-fluentd",
          "initContainers": [
            {
              "name": "drycc-logger-fluentd-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": "Always",
              "command": [
                "netcat",
                "-v",
                "-a",
                "$(DRYCC_NSQD_ADDRS)"
              ],
              "env": [
                {
                  "name": "DRYCC_NSQD_ADDRS",
                  "value": "drycc-nsqd-0.drycc-nsqd.default.svc.cluster.local:4150"
                }
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-logger-fluentd",
              "image": "docker.io/drycc/fluentd:1.2.0",
              "imagePullPolicy": "Always",
              "env": [
                {
                  "name": "CONTAINER_TAIL_PARSER_TYPE",
                  "value": "json"
                },
                {
                  "name": "DRYCC_NSQD_ADDRS",
                  "value": "drycc-nsqd-0.drycc-nsqd.default.svc.cluster.local:4150"
                }
              ],
              "volumeMounts": [
                {
                  "name": "varlog",
                  "mountPath": "/var/log"
                },
                {
                  "name": "varlibdockercontainers",
                  "mountPath": "/var/lib/docker/containers",
                  "readOnly": true
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "varlog",
              "hostPath": {
                "path": "/var/log"
              }
            },
            {
              "name": "varlibdockercontainers",
              "hostPath": {
                "path": "/var/lib/docker/containers"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "DaemonSet",
    "metadata": {
      "name": "drycc-monitor-telegraf",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.2.0"
      }
    },
    "spec": {
      "selector": {
        "matchLabels": {
          "app": "drycc-monitor-telegraf"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-monitor-telegraf"
          }
        },
        "spec": {
          "serviceAccount": "drycc-monitor-telegraf",
          "initContainers": [
            {
              "name": "drycc-monitor-telegraf-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": null,
              "command": [
                "netcat",
                "-v",
                "-u",
                "$(INFLUXDB_URLS_V2)"
              ],
              "env": [
                {
                  "name": "INFLUXDB_URLS_V2",
                  "value": "\"http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)\""
                },
                {
                  "name": "INFLUXDB_V2_INPUT_URLS",
                  "value": "\"http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)/metrics\""
                },
                {
                  "name": "ENABLE_INFLUXDB_V2_INPUT",
                  "value": "true"
                }
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-monitor-telegraf",
              "image": "docker.io/drycc/telegraf:1.2.0",
              "imagePullPolicy": "Always",
              "env": [
                {
                  "name": "POD_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_URLS_V2",
                  "value": "\"http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)\""
                },
                {
                  "name": "INFLUXDB_V2_INPUT_URLS",
                  "value": "\"http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)/metrics\""
                },
                {
                  "name": "ENABLE_INFLUXDB_V2_INPUT",
                  "value": "true"
                },
                {
                  "name": "INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "HOST_PROC",
                  "value": "/rootfs/proc"
                },
                {
                  "name": "HOST_SYS",
                  "value": "/rootfs/sys"
                },
                {
                  "name": "AGENT_QUIET",
                  "value": "true"
                },
                {
                  "name": "AGENT_BUFFER_LIMIT",
                  "value": "100000"
                },
                {
                  "name": "ENABLE_KUBERNETES",
                  "value": "true"
                },
                {
                  "name": "ENABLE_BARE_METAL_SERVER",
                  "value": "true"
                }
              ],
              "volumeMounts": [
                {
                  "mountPath": "/var/run/docker.sock",
                  "name": "docker-socket"
                },
                {
                  "name": "sysro",
                  "mountPath": "/rootfs/sys",
                  "readOnly": true
                },
                {
                  "name": "procro",
                  "mountPath": "/rootfs/proc",
                  "readOnly": true
                },
                {
                  "name": "varrunutmpro",
                  "mountPath": "/var/run/utmp",
                  "readOnly": true
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "docker-socket",
              "hostPath": {
                "path": "/var/run/docker.sock"
              }
            },
            {
              "name": "sysro",
              "hostPath": {
                "path": "/sys"
              }
            },
            {
              "name": "procro",
              "hostPath": {
                "path": "/proc"
              }
            },
            {
              "name": "varrunutmpro",
              "hostPath": {
                "path": "/var/run/utmp"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "DaemonSet",
    "metadata": {
      "name": "drycc-registry-proxy",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.1.0"
      }
    },
    "spec": {
      "selector": {
        "matchLabels": {
          "app": "drycc-registry-proxy",
          "heritage": "drycc"
        }
      },
      "template": {
        "metadata": {
          "name": "drycc-registry-proxy",
          "labels": {
            "heritage": "drycc",
            "app": "drycc-registry-proxy"
          }
        },
        "spec": {
          "containers": [
            {
              "name": "drycc-registry-proxy",
              "image": "docker.io/drycc/registry-proxy:1.1.0",
              "imagePullPolicy": "Always",
              "resources": {
                "limits": {
                  "cpu": "100m",
                  "memory": "50Mi"
                }
              },
              "env": [
                {
                  "name": "REGISTRY_HOST",
                  "value": "$(DRYCC_REGISTRY_SERVICE_HOST)"
                },
                {
                  "name": "REGISTRY_PORT",
                  "value": "$(DRYCC_REGISTRY_SERVICE_PORT)"
                },
                {
                  "name": "BIND_ADDR",
                  "value": "80"
                }
              ],
              "ports": [
                {
                  "containerPort": 80,
                  "hostPort": 5555
                }
              ]
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-builder",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.3.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "rollingUpdate": {
          "maxSurge": 1,
          "maxUnavailable": 0
        },
        "type": "RollingUpdate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-builder"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-builder"
          }
        },
        "spec": {
          "serviceAccount": "drycc-builder",
          "initContainers": [
            {
              "name": "drycc-builder-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": "Always",
              "command": [
                "netcat",
                "-v",
                "-a",
                "$(DRYCC_MINIO_SERVICE_HOST):$(DRYCC_MINIO_SERVICE_PORT)"
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-builder",
              "image": "docker.io/drycc/builder:1.3.0",
              "imagePullPolicy": "Always",
              "ports": [
                {
                  "containerPort": 2223,
                  "name": "ssh"
                },
                {
                  "containerPort": 8092,
                  "name": "healthsrv"
                }
              ],
              "env": [
                {
                  "name": "DRYCC_REGISTRY_PROXY_HOST",
                  "value": "127.0.0.1"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_PORT",
                  "value": "5555"
                },
                {
                  "name": "HEALTH_SERVER_PORT",
                  "value": "8092"
                },
                {
                  "name": "EXTERNAL_PORT",
                  "value": "2223"
                },
                {
                  "name": "BUILDER_STORAGE",
                  "value": "minio"
                },
                {
                  "name": "DRYCC_REGISTRY_LOCATION",
                  "value": "on-cluster"
                },
                {
                  "name": "TTL_SECONDS_AFTER_FINISHED",
                  "value": ""
                },
                {
                  "name": "GIT_LOCK_TIMEOUT",
                  "value": "30"
                },
                {
                  "name": "IMAGEBUILDER_IMAGE_PULL_POLICY",
                  "valueFrom": {
                    "configMapKeyRef": {
                      "name": "imagebuilder-config",
                      "key": "image_pull_policy"
                    }
                  }
                },
                {
                  "name": "DOCKERIMAGE",
                  "value": "1"
                },
                {
                  "name": "DRYCC_DEBUG",
                  "value": "false"
                },
                {
                  "name": "POD_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "DRYCC_BUILDER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "builder-key-auth",
                      "key": "builder-key"
                    }
                  }
                }
              ],
              "livenessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": 8092
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 1
              },
              "readinessProbe": {
                "httpGet": {
                  "path": "/readiness",
                  "port": 8092
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 1
              },
              "volumeMounts": [
                {
                  "name": "builder-key-auth",
                  "mountPath": "/var/run/secrets/api/auth",
                  "readOnly": true
                },
                {
                  "name": "builder-ssh-private-keys",
                  "mountPath": "/var/run/secrets/drycc/builder/ssh",
                  "readOnly": true
                },
                {
                  "name": "objectstore-creds",
                  "mountPath": "/var/run/secrets/drycc/objectstore/creds",
                  "readOnly": true
                },
                {
                  "name": "imagebuilder-config",
                  "mountPath": "/etc/imagebuilder",
                  "readOnly": true
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "builder-key-auth",
              "secret": {
                "secretName": "builder-key-auth"
              }
            },
            {
              "name": "builder-ssh-private-keys",
              "secret": {
                "secretName": "builder-ssh-private-keys"
              }
            },
            {
              "name": "objectstore-creds",
              "secret": {
                "secretName": "objectstorage-keyfile"
              }
            },
            {
              "name": "imagebuilder-config",
              "configMap": {
                "name": "imagebuilder-config"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-controller-celery",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.4.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "rollingUpdate": {
          "maxSurge": 1,
          "maxUnavailable": 0
        },
        "type": "RollingUpdate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-controller-celery"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-controller-celery"
          }
        },
        "spec": {
          "serviceAccount": "drycc-controller",
          "initContainers": [
            {
              "name": "drycc-controller-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": "Always",
              "command": [
                "netcat",
                "-v",
                "-u",
                "$(DRYCC_DATABASE_URL),$(DRYCC_RABBITMQ_URL)",
                "-a",
                "$(DRYCC_REDIS_ADDRS)"
              ],
              "env": [
                {
                  "name": "REGISTRATION_MODE",
                  "value": "admin_only"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_HOST",
                  "value": "127.0.0.1"
                },
                {
                  "name": "DRYCC_INGRESS_CLASS",
                  "value": ""
                },
                {
                  "name": "DRYCC_PLATFORM_DOMAIN",
                  "value": ""
                },
                {
                  "name": "K8S_API_VERIFY_TLS",
                  "value": "true"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_PORT",
                  "value": "5555"
                },
                {
                  "name": "APP_STORAGE",
                  "value": "minio"
                },
                {
                  "name": "DRYCC_REGISTRY_LOCATION",
                  "value": "on-cluster"
                },
                {
                  "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                  "value": "private-registry"
                },
                {
                  "name": "IMAGE_PULL_POLICY",
                  "value": "IfNotPresent"
                },
                {
                  "name": "KUBERNETES_CLUSTER_DOMAIN",
                  "value": "cluster.local"
                },
                {
                  "name": "TZ",
                  "value": "UTC"
                },
                {
                  "name": "DRYCC_SECRET_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "controller-creds",
                      "key": "django-secret-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_BUILDER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "builder-key-auth",
                      "key": "builder-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "user"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_NAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "controller-database-name"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_URL",
                  "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                },
                {
                  "name": "WORKFLOW_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "DRYCC_REDIS_ADDRS",
                  "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                },
                {
                  "name": "DRYCC_REDIS_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "redis-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_URL",
                  "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                },
                {
                  "name": "DRYCC_INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_USERNAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "username"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_URL",
                  "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                },
                {
                  "name": "DRYCC_PASSPORT_DOMAIN",
                  "value": "https://drycc-passport."
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                },
                {
                  "name": "LOGIN_REDIRECT_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-secret"
                    }
                  }
                },
                {
                  "name": "RESERVED_NAMES",
                  "value": "drycc, drycc-builder, drycc-monitor-grafana"
                }
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-controller-celery-high",
              "image": "docker.io/drycc/controller:1.4.0",
              "imagePullPolicy": "Always",
              "command": [
                "/bin/bash",
                "-c"
              ],
              "args": [
                "celery -A api worker -Q priority.high --autoscale=32,1 --loglevel=WARNING"
              ],
              "env": [
                {
                  "name": "REGISTRATION_MODE",
                  "value": "admin_only"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_HOST",
                  "value": "127.0.0.1"
                },
                {
                  "name": "DRYCC_INGRESS_CLASS",
                  "value": ""
                },
                {
                  "name": "DRYCC_PLATFORM_DOMAIN",
                  "value": ""
                },
                {
                  "name": "K8S_API_VERIFY_TLS",
                  "value": "true"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_PORT",
                  "value": "5555"
                },
                {
                  "name": "APP_STORAGE",
                  "value": "minio"
                },
                {
                  "name": "DRYCC_REGISTRY_LOCATION",
                  "value": "on-cluster"
                },
                {
                  "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                  "value": "private-registry"
                },
                {
                  "name": "IMAGE_PULL_POLICY",
                  "value": "IfNotPresent"
                },
                {
                  "name": "KUBERNETES_CLUSTER_DOMAIN",
                  "value": "cluster.local"
                },
                {
                  "name": "TZ",
                  "value": "UTC"
                },
                {
                  "name": "DRYCC_SECRET_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "controller-creds",
                      "key": "django-secret-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_BUILDER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "builder-key-auth",
                      "key": "builder-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "user"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_NAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "controller-database-name"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_URL",
                  "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                },
                {
                  "name": "WORKFLOW_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "DRYCC_REDIS_ADDRS",
                  "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                },
                {
                  "name": "DRYCC_REDIS_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "redis-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_URL",
                  "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                },
                {
                  "name": "DRYCC_INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_USERNAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "username"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_URL",
                  "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                },
                {
                  "name": "DRYCC_PASSPORT_DOMAIN",
                  "value": "https://drycc-passport."
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                },
                {
                  "name": "LOGIN_REDIRECT_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-secret"
                    }
                  }
                },
                {
                  "name": "RESERVED_NAMES",
                  "value": "drycc, drycc-builder, drycc-monitor-grafana"
                }
              ]
            },
            {
              "name": "drycc-controller-celery-middle",
              "image": "docker.io/drycc/controller:1.4.0",
              "imagePullPolicy": "Always",
              "command": [
                "/bin/bash",
                "-c"
              ],
              "args": [
                "celery -A api worker -Q priority.middle --autoscale=16,1 --loglevel=WARNING"
              ],
              "env": [
                {
                  "name": "REGISTRATION_MODE",
                  "value": "admin_only"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_HOST",
                  "value": "127.0.0.1"
                },
                {
                  "name": "DRYCC_INGRESS_CLASS",
                  "value": ""
                },
                {
                  "name": "DRYCC_PLATFORM_DOMAIN",
                  "value": ""
                },
                {
                  "name": "K8S_API_VERIFY_TLS",
                  "value": "true"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_PORT",
                  "value": "5555"
                },
                {
                  "name": "APP_STORAGE",
                  "value": "minio"
                },
                {
                  "name": "DRYCC_REGISTRY_LOCATION",
                  "value": "on-cluster"
                },
                {
                  "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                  "value": "private-registry"
                },
                {
                  "name": "IMAGE_PULL_POLICY",
                  "value": "IfNotPresent"
                },
                {
                  "name": "KUBERNETES_CLUSTER_DOMAIN",
                  "value": "cluster.local"
                },
                {
                  "name": "TZ",
                  "value": "UTC"
                },
                {
                  "name": "DRYCC_SECRET_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "controller-creds",
                      "key": "django-secret-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_BUILDER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "builder-key-auth",
                      "key": "builder-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "user"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_NAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "controller-database-name"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_URL",
                  "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                },
                {
                  "name": "WORKFLOW_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "DRYCC_REDIS_ADDRS",
                  "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                },
                {
                  "name": "DRYCC_REDIS_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "redis-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_URL",
                  "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                },
                {
                  "name": "DRYCC_INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_USERNAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "username"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_URL",
                  "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                },
                {
                  "name": "DRYCC_PASSPORT_DOMAIN",
                  "value": "https://drycc-passport."
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                },
                {
                  "name": "LOGIN_REDIRECT_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-secret"
                    }
                  }
                },
                {
                  "name": "RESERVED_NAMES",
                  "value": "drycc, drycc-builder, drycc-monitor-grafana"
                }
              ]
            },
            {
              "name": "drycc-controller-celery-low",
              "image": "docker.io/drycc/controller:1.4.0",
              "imagePullPolicy": "Always",
              "command": [
                "/bin/bash",
                "-c"
              ],
              "args": [
                "celery -A api worker -Q priority.low --autoscale=8,1 --loglevel=WARNING"
              ],
              "env": [
                {
                  "name": "REGISTRATION_MODE",
                  "value": "admin_only"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_HOST",
                  "value": "127.0.0.1"
                },
                {
                  "name": "DRYCC_INGRESS_CLASS",
                  "value": ""
                },
                {
                  "name": "DRYCC_PLATFORM_DOMAIN",
                  "value": ""
                },
                {
                  "name": "K8S_API_VERIFY_TLS",
                  "value": "true"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_PORT",
                  "value": "5555"
                },
                {
                  "name": "APP_STORAGE",
                  "value": "minio"
                },
                {
                  "name": "DRYCC_REGISTRY_LOCATION",
                  "value": "on-cluster"
                },
                {
                  "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                  "value": "private-registry"
                },
                {
                  "name": "IMAGE_PULL_POLICY",
                  "value": "IfNotPresent"
                },
                {
                  "name": "KUBERNETES_CLUSTER_DOMAIN",
                  "value": "cluster.local"
                },
                {
                  "name": "TZ",
                  "value": "UTC"
                },
                {
                  "name": "DRYCC_SECRET_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "controller-creds",
                      "key": "django-secret-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_BUILDER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "builder-key-auth",
                      "key": "builder-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "user"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_NAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "controller-database-name"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_URL",
                  "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                },
                {
                  "name": "WORKFLOW_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "DRYCC_REDIS_ADDRS",
                  "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                },
                {
                  "name": "DRYCC_REDIS_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "redis-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_URL",
                  "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                },
                {
                  "name": "DRYCC_INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_USERNAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "username"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_URL",
                  "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                },
                {
                  "name": "DRYCC_PASSPORT_DOMAIN",
                  "value": "https://drycc-passport."
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                },
                {
                  "name": "LOGIN_REDIRECT_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-secret"
                    }
                  }
                },
                {
                  "name": "RESERVED_NAMES",
                  "value": "drycc, drycc-builder, drycc-monitor-grafana"
                }
              ]
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-controller",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.4.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "rollingUpdate": {
          "maxSurge": 1,
          "maxUnavailable": 0
        },
        "type": "RollingUpdate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-controller"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-controller"
          }
        },
        "spec": {
          "serviceAccount": "drycc-controller",
          "initContainers": [
            {
              "name": "drycc-controller-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": "Always",
              "command": [
                "netcat",
                "-v",
                "-u",
                "$(DRYCC_DATABASE_URL),$(DRYCC_RABBITMQ_URL)",
                "-a",
                "$(DRYCC_REDIS_ADDRS)"
              ],
              "env": [
                {
                  "name": "REGISTRATION_MODE",
                  "value": "admin_only"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_HOST",
                  "value": "127.0.0.1"
                },
                {
                  "name": "DRYCC_INGRESS_CLASS",
                  "value": ""
                },
                {
                  "name": "DRYCC_PLATFORM_DOMAIN",
                  "value": ""
                },
                {
                  "name": "K8S_API_VERIFY_TLS",
                  "value": "true"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_PORT",
                  "value": "5555"
                },
                {
                  "name": "APP_STORAGE",
                  "value": "minio"
                },
                {
                  "name": "DRYCC_REGISTRY_LOCATION",
                  "value": "on-cluster"
                },
                {
                  "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                  "value": "private-registry"
                },
                {
                  "name": "IMAGE_PULL_POLICY",
                  "value": "IfNotPresent"
                },
                {
                  "name": "KUBERNETES_CLUSTER_DOMAIN",
                  "value": "cluster.local"
                },
                {
                  "name": "TZ",
                  "value": "UTC"
                },
                {
                  "name": "DRYCC_SECRET_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "controller-creds",
                      "key": "django-secret-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_BUILDER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "builder-key-auth",
                      "key": "builder-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "user"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_NAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "controller-database-name"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_URL",
                  "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                },
                {
                  "name": "WORKFLOW_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "DRYCC_REDIS_ADDRS",
                  "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                },
                {
                  "name": "DRYCC_REDIS_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "redis-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_URL",
                  "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                },
                {
                  "name": "DRYCC_INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_USERNAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "username"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_URL",
                  "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                },
                {
                  "name": "DRYCC_PASSPORT_DOMAIN",
                  "value": "https://drycc-passport."
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                },
                {
                  "name": "LOGIN_REDIRECT_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-secret"
                    }
                  }
                },
                {
                  "name": "RESERVED_NAMES",
                  "value": "drycc, drycc-builder, drycc-monitor-grafana"
                }
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-controller",
              "image": "docker.io/drycc/controller:1.4.0",
              "imagePullPolicy": "Always",
              "livenessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": 8000
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 10
              },
              "readinessProbe": {
                "httpGet": {
                  "path": "/readiness",
                  "port": 8000
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 10,
                "periodSeconds": 5
              },
              "ports": [
                {
                  "containerPort": 8000,
                  "name": "http"
                }
              ],
              "env": [
                {
                  "name": "REGISTRATION_MODE",
                  "value": "admin_only"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_HOST",
                  "value": "127.0.0.1"
                },
                {
                  "name": "DRYCC_INGRESS_CLASS",
                  "value": ""
                },
                {
                  "name": "DRYCC_PLATFORM_DOMAIN",
                  "value": ""
                },
                {
                  "name": "K8S_API_VERIFY_TLS",
                  "value": "true"
                },
                {
                  "name": "DRYCC_REGISTRY_PROXY_PORT",
                  "value": "5555"
                },
                {
                  "name": "APP_STORAGE",
                  "value": "minio"
                },
                {
                  "name": "DRYCC_REGISTRY_LOCATION",
                  "value": "on-cluster"
                },
                {
                  "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                  "value": "private-registry"
                },
                {
                  "name": "IMAGE_PULL_POLICY",
                  "value": "IfNotPresent"
                },
                {
                  "name": "KUBERNETES_CLUSTER_DOMAIN",
                  "value": "cluster.local"
                },
                {
                  "name": "TZ",
                  "value": "UTC"
                },
                {
                  "name": "DRYCC_SECRET_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "controller-creds",
                      "key": "django-secret-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_BUILDER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "builder-key-auth",
                      "key": "builder-key"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "user"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_NAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "controller-database-name"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_URL",
                  "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                },
                {
                  "name": "WORKFLOW_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "DRYCC_REDIS_ADDRS",
                  "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                },
                {
                  "name": "DRYCC_REDIS_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "redis-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_URL",
                  "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                },
                {
                  "name": "DRYCC_INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "DRYCC_INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_USERNAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "username"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_RABBITMQ_URL",
                  "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                },
                {
                  "name": "DRYCC_PASSPORT_DOMAIN",
                  "value": "https://drycc-passport."
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                },
                {
                  "name": "LOGIN_REDIRECT_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-secret"
                    }
                  }
                },
                {
                  "name": "RESERVED_NAMES",
                  "value": "drycc, drycc-builder, drycc-monitor-grafana"
                }
              ]
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-database",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.1.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "type": "Recreate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-database"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-database"
          }
        },
        "spec": {
          "serviceAccount": "drycc-database",
          "initContainers": [
            {
              "name": "drycc-database-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": "Always",
              "command": [
                "netcat",
                "-v",
                "-a",
                "$(DRYCC_MINIO_SERVICE_HOST):$(DRYCC_MINIO_SERVICE_PORT)"
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-database",
              "image": "docker.io/drycc/postgres:1.1.0",
              "imagePullPolicy": "Always",
              "ports": [
                {
                  "containerPort": 5432
                }
              ],
              "env": [
                {
                  "name": "DATABASE_STORAGE",
                  "value": "minio"
                },
                {
                  "name": "PGCTLTIMEOUT",
                  "value": "1200"
                }
              ],
              "lifecycle": {
                "preStop": {
                  "exec": {
                    "command": [
                      "gosu",
                      "postgres",
                      "do_backup"
                    ]
                  }
                }
              },
              "readinessProbe": {
                "exec": {
                  "command": [
                    "is_running"
                  ]
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 1
              },
              "volumeMounts": [
                {
                  "name": "database-creds",
                  "mountPath": "/var/run/secrets/drycc/database/creds"
                },
                {
                  "name": "objectstore-creds",
                  "mountPath": "/var/run/secrets/drycc/objectstore/creds"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "database-creds",
              "secret": {
                "secretName": "database-creds"
              }
            },
            {
              "name": "objectstore-creds",
              "secret": {
                "secretName": "objectstorage-keyfile"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-influxdb",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.1.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "type": "Recreate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-influxdb"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-influxdb"
          }
        },
        "spec": {
          "containers": [
            {
              "name": "drycc-influxdb",
              "image": "docker.io/drycc/influxdb:1.1.0",
              "imagePullPolicy": "Always",
              "ports": [
                {
                  "containerPort": 8086,
                  "name": "transport",
                  "protocol": "TCP"
                }
              ],
              "env": [
                {
                  "name": "INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "user"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_RETENTION",
                  "value": "30d"
                },
                {
                  "name": "RESERVED_NAMES",
                  "value": "drycc-influxdb"
                }
              ],
              "livenessProbe": {
                "httpGet": {
                  "path": "/health",
                  "port": "http"
                }
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-logger",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.2.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "rollingUpdate": {
          "maxSurge": 1,
          "maxUnavailable": 0
        },
        "type": "RollingUpdate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-logger"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-logger"
          }
        },
        "spec": {
          "initContainers": [
            {
              "name": "drycc-logger-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": "Always",
              "command": [
                "netcat",
                "-v",
                "-a",
                "$(DRYCC_REDIS_ADDRS),$(DRYCC_NSQD_ADDRS)"
              ],
              "env": [
                {
                  "name": "DRYCC_REDIS_ADDRS",
                  "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                },
                {
                  "name": "DRYCC_NSQD_ADDRS",
                  "value": "drycc-nsqd-0.drycc-nsqd.default.svc.cluster.local:4150"
                }
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-logger",
              "image": "docker.io/drycc/logger:1.2.0",
              "imagePullPolicy": "Always",
              "env": [
                {
                  "name": "STORAGE_ADAPTER",
                  "value": "redis"
                },
                {
                  "name": "DRYCC_REDIS_ADDRS",
                  "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                },
                {
                  "name": "DRYCC_REDIS_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "redis-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_NSQD_ADDRS",
                  "value": "drycc-nsqd-0.drycc-nsqd.default.svc.cluster.local:4150"
                }
              ],
              "ports": [
                {
                  "containerPort": 8088,
                  "name": "http"
                }
              ],
              "livenessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": 8088
                },
                "initialDelaySeconds": 1,
                "timeoutSeconds": 1
              },
              "readinessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": 8088
                },
                "initialDelaySeconds": 1,
                "timeoutSeconds": 1
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-minio",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.2.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "type": "Recreate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-minio"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-minio"
          }
        },
        "spec": {
          "serviceAccount": "drycc-minio",
          "containers": [
            {
              "name": "drycc-minio",
              "image": "docker.io/drycc/minio:1.2.0",
              "imagePullPolicy": "Always",
              "env": [
                {
                  "name": "STORAGE",
                  "value": "minio"
                },
                {
                  "name": "HEALTH_SERVER_PORT",
                  "value": "8082"
                }
              ],
              "ports": [
                {
                  "containerPort": 9000
                },
                {
                  "containerPort": 8082
                }
              ],
              "livenessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": 8082
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 1
              },
              "readinessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": 8082
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 1
              },
              "command": [
                "boot"
              ],
              "args": [
                "server",
                "/data"
              ],
              "volumeMounts": [
                {
                  "name": "objectstore-creds",
                  "mountPath": "/var/run/secrets/drycc/objectstore/creds"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "objectstore-creds",
              "secret": {
                "secretName": "objectstorage-keyfile"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-monitor-grafana",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.2.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "rollingUpdate": {
          "maxSurge": 1,
          "maxUnavailable": 0
        },
        "type": "RollingUpdate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-monitor-grafana"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-monitor-grafana"
          }
        },
        "spec": {
          "containers": [
            {
              "name": "drycc-monitor-grafana",
              "image": "docker.io/drycc/grafana:1.2.0",
              "imagePullPolicy": "Always",
              "ports": [
                {
                  "containerPort": 3000,
                  "name": "ui"
                }
              ],
              "env": [
                {
                  "name": "INFLUXDB_URL",
                  "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                },
                {
                  "name": "INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "BIND_PORT",
                  "value": "3000"
                },
                {
                  "name": "DEFAULT_USER",
                  "value": "admin"
                },
                {
                  "name": "DEFAULT_USER_PASSWORD",
                  "value": "admin"
                },
                {
                  "name": "KUBERNETES_CLUSTER_DOMAIN",
                  "value": "cluster.local"
                },
                {
                  "name": "ALLOW_SIGN_UP",
                  "value": "false"
                },
                {
                  "name": "DRYCC_GRAFANA_DOMAIN",
                  "value": "https://drycc-monitor-grafana."
                },
                {
                  "name": "DRYCC_PASSPORT_DOMAIN",
                  "value": "https://drycc-passport."
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                  "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_GRAFANA_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-grafana-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_GRAFANA_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-grafana-secret"
                    }
                  }
                }
              ]
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-monitor-telegraf",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.2.0"
      }
    },
    "spec": {
      "replicas": 1,
      "selector": {
        "matchLabels": {
          "app": "drycc-monitor-telegraf"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-monitor-telegraf"
          }
        },
        "spec": {
          "serviceAccount": "drycc-monitor-telegraf",
          "initContainers": [
            {
              "name": "drycc-monitor-telegraf-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": null,
              "command": [
                "netcat",
                "-v",
                "-u",
                "$(INFLUXDB_URLS_V2)"
              ],
              "env": [
                {
                  "name": "INFLUXDB_URLS_V2",
                  "value": "\"http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)\""
                },
                {
                  "name": "INFLUXDB_V2_INPUT_URLS",
                  "value": "\"http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)/metrics\""
                },
                {
                  "name": "ENABLE_INFLUXDB_V2_INPUT",
                  "value": "true"
                }
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-monitor-telegraf",
              "image": "docker.io/drycc/telegraf:1.2.0",
              "imagePullPolicy": "Always",
              "env": [
                {
                  "name": "POD_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_URLS_V2",
                  "value": "\"http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)\""
                },
                {
                  "name": "INFLUXDB_V2_INPUT_URLS",
                  "value": "\"http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)/metrics\""
                },
                {
                  "name": "ENABLE_INFLUXDB_V2_INPUT",
                  "value": "true"
                },
                {
                  "name": "INFLUXDB_BUCKET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "bucket"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_ORG",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "org"
                    }
                  }
                },
                {
                  "name": "INFLUXDB_TOKEN",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "influxdb-creds",
                      "key": "token"
                    }
                  }
                },
                {
                  "name": "AGENT_QUIET",
                  "value": "true"
                },
                {
                  "name": "AGENT_BUFFER_LIMIT",
                  "value": "100000"
                },
                {
                  "name": "NSQ_CONSUMER_SERVERS",
                  "value": "[\"drycc-nsqd-0.drycc-nsqd.default.svc.cluster.local:4150\"]"
                },
                {
                  "name": "NSQ_CONSUMER_TOPIC",
                  "value": "metrics"
                },
                {
                  "name": "NSQ_ENDPOINTS",
                  "value": "[\"http://drycc-nsqd-0.drycc-nsqd.default.svc.cluster.local:4151\"]"
                },
                {
                  "name": "DRYCC_REDIS_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "redis-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "REDIS_SERVERS",
                  "value": "[\":$(DRYCC_REDIS_PASSWORD)@drycc-redis-0.drycc-redis.default.svc.cluster.local:6379\"]"
                }
              ],
              "volumeMounts": [
                {
                  "name": "redis-creds",
                  "mountPath": "/var/run/secrets/drycc/redis/creds"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "redis-creds",
              "secret": {
                "secretName": "redis-creds"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-passport",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.0.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "rollingUpdate": {
          "maxSurge": 1,
          "maxUnavailable": 0
        },
        "type": "RollingUpdate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-passport"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-passport"
          }
        },
        "spec": {
          "serviceAccount": "drycc-passport",
          "initContainers": [
            {
              "name": "drycc-passport-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": "Always",
              "command": [
                "netcat",
                "-v",
                "-u",
                "$(DRYCC_DATABASE_URL)"
              ],
              "env": [
                {
                  "name": "TZ",
                  "value": "UTC"
                },
                {
                  "name": "DRYCC_CONTROLLER_DOMAIN",
                  "value": "https://drycc."
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-secret"
                    }
                  }
                },
                {
                  "name": "WORKFLOW_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "ADMIN_USERNAME",
                  "value": "admin"
                },
                {
                  "name": "ADMIN_PASSWORD",
                  "value": "admin"
                },
                {
                  "name": "ADMIN_EMAIL",
                  "value": "admin@email.com"
                },
                {
                  "name": "DRYCC_MONITOR_GRAFANA_DOMAIN",
                  "value": "https://drycc-monitor-grafana."
                },
                {
                  "name": "GRAFANA_ON_CLUSTER",
                  "value": "true"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_GRAFANA_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-grafana-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_GRAFANA_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-grafana-secret"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "user"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_NAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "passport-database-name"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_URL",
                  "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                }
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-passport",
              "image": "docker.io/drycc/passport:1.0.0",
              "imagePullPolicy": "Always",
              "livenessProbe": {
                "httpGet": {
                  "path": "/healthz",
                  "port": 8000
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 10
              },
              "readinessProbe": {
                "httpGet": {
                  "path": "/readiness",
                  "port": 8000
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 10,
                "periodSeconds": 5
              },
              "ports": [
                {
                  "containerPort": 8000,
                  "name": "http"
                }
              ],
              "env": [
                {
                  "name": "TZ",
                  "value": "UTC"
                },
                {
                  "name": "DRYCC_CONTROLLER_DOMAIN",
                  "value": "https://drycc."
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-controller-secret"
                    }
                  }
                },
                {
                  "name": "WORKFLOW_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "ADMIN_USERNAME",
                  "value": "admin"
                },
                {
                  "name": "ADMIN_PASSWORD",
                  "value": "admin"
                },
                {
                  "name": "ADMIN_EMAIL",
                  "value": "admin@email.com"
                },
                {
                  "name": "DRYCC_MONITOR_GRAFANA_DOMAIN",
                  "value": "https://drycc-monitor-grafana."
                },
                {
                  "name": "GRAFANA_ON_CLUSTER",
                  "value": "true"
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_GRAFANA_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-grafana-key"
                    }
                  }
                },
                {
                  "name": "SOCIAL_AUTH_DRYCC_GRAFANA_SECRET",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "passport-creds",
                      "key": "social-auth-drycc-grafana-secret"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "user"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_PASSWORD",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_NAME",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "database-creds",
                      "key": "passport-database-name"
                    }
                  }
                },
                {
                  "name": "DRYCC_DATABASE_URL",
                  "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                }
              ],
              "volumeMounts": [
                {
                  "name": "passport-creds",
                  "mountPath": "/var/run/secrets/drycc/passport",
                  "readOnly": true
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "passport-creds",
              "secret": {
                "secretName": "passport-creds"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "drycc-registry",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.1.0"
      }
    },
    "spec": {
      "replicas": 1,
      "strategy": {
        "rollingUpdate": {
          "maxSurge": 1,
          "maxUnavailable": 0
        },
        "type": "RollingUpdate"
      },
      "selector": {
        "matchLabels": {
          "app": "drycc-registry"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-registry"
          }
        },
        "spec": {
          "serviceAccount": "drycc-registry",
          "initContainers": [
            {
              "name": "drycc-registry-init",
              "image": "docker.io/drycc/python-dev:latest",
              "imagePullPolicy": "Always",
              "command": [
                "netcat",
                "-v",
                "-a",
                "$(DRYCC_MINIO_SERVICE_HOST):$(DRYCC_MINIO_SERVICE_PORT)"
              ]
            }
          ],
          "containers": [
            {
              "name": "drycc-registry",
              "image": "docker.io/drycc/registry:1.1.0",
              "imagePullPolicy": "Always",
              "livenessProbe": {
                "httpGet": {
                  "path": "/v2/",
                  "port": 5000
                },
                "initialDelaySeconds": 1,
                "timeoutSeconds": 1
              },
              "readinessProbe": {
                "httpGet": {
                  "path": "/v2/",
                  "port": 5000
                },
                "initialDelaySeconds": 1,
                "timeoutSeconds": 1
              },
              "env": [
                {
                  "name": "REGISTRY_STORAGE_DELETE_ENABLED",
                  "value": "true"
                },
                {
                  "name": "REGISTRY_LOG_LEVEL",
                  "value": "info"
                }
              ],
              "ports": [
                {
                  "containerPort": 5000
                }
              ],
              "volumeMounts": [
                {
                  "name": "registry-storage",
                  "mountPath": "/var/lib/registry"
                },
                {
                  "name": "objectstorage-creds",
                  "mountPath": "/var/run/secrets/drycc/objectstore/creds"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "registry-storage",
              "emptyDir": {}
            },
            {
              "name": "objectstorage-creds",
              "secret": {
                "secretName": "objectstorage-keyfile"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "StatefulSet",
    "metadata": {
      "name": "drycc-nsqd",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.2.0"
      }
    },
    "spec": {
      "serviceName": "drycc-nsqd",
      "replicas": 1,
      "selector": {
        "matchLabels": {
          "app": "drycc-nsqd"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-nsqd"
          }
        },
        "spec": {
          "serviceAccount": "drycc-nsqd",
          "containers": [
            {
              "name": "drycc-nsqd",
              "image": "docker.io/drycc/nsqd:1.2.0",
              "imagePullPolicy": "Always",
              "command": [
                "/opt/nsqd/bin/start-nsqd",
                "-http-address",
                ":4151",
                "-tcp-address",
                ":4150"
              ],
              "ports": [
                {
                  "containerPort": 4151,
                  "name": "http",
                  "protocol": "TCP"
                },
                {
                  "containerPort": 4150,
                  "name": "transport",
                  "protocol": "TCP"
                }
              ],
              "livenessProbe": {
                "httpGet": {
                  "path": "/ping",
                  "port": 4151
                },
                "initialDelaySeconds": 5,
                "timeoutSeconds": 1
              },
              "readinessProbe": {
                "httpGet": {
                  "path": "/ping",
                  "port": 4151
                },
                "initialDelaySeconds": 5,
                "timeoutSeconds": 1
              },
              "env": [
                {
                  "name": "POD_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                }
              ]
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "StatefulSet",
    "metadata": {
      "name": "drycc-rabbitmq",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.0.0"
      }
    },
    "spec": {
      "replicas": 1,
      "serviceName": "drycc-rabbitmq",
      "selector": {
        "matchLabels": {
          "app": "drycc-rabbitmq"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-rabbitmq"
          }
        },
        "spec": {
          "serviceAccount": "drycc-rabbitmq",
          "containers": [
            {
              "name": "drycc-rabbitmq",
              "image": "docker.io/drycc/rabbitmq:1.0.0",
              "imagePullPolicy": "Always",
              "ports": [
                {
                  "containerPort": 5672
                }
              ],
              "env": [
                {
                  "name": "RABBITMQ_DEFAULT_USER",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "username"
                    }
                  }
                },
                {
                  "name": "RABBITMQ_DEFAULT_PASS",
                  "valueFrom": {
                    "secretKeyRef": {
                      "name": "rabbitmq-creds",
                      "key": "password"
                    }
                  }
                },
                {
                  "name": "RABBITMQ_DEFAULT_VHOST",
                  "value": "drycc"
                }
              ],
              "lifecycle": {
                "preStop": {
                  "exec": {
                    "command": [
                      "bash",
                      "-ec",
                      "rabbitmqctl stop_app"
                    ]
                  }
                }
              },
              "livenessProbe": {
                "exec": {
                  "command": [
                    "/bin/bash",
                    "-ec",
                    "rabbitmq-diagnostics -q check_running"
                  ]
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 10
              },
              "readinessProbe": {
                "exec": {
                  "command": [
                    "/bin/bash",
                    "-ec",
                    "rabbitmq-diagnostics -q check_running"
                  ]
                },
                "initialDelaySeconds": 30,
                "timeoutSeconds": 10,
                "periodSeconds": 5
              },
              "volumeMounts": [
                {
                  "name": "rabbitmq-creds",
                  "mountPath": "/var/run/secrets/drycc/rabbitmq/creds"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "rabbitmq-creds",
              "secret": {
                "secretName": "rabbitmq-creds"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "StatefulSet",
    "metadata": {
      "name": "drycc-redis",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.2.0"
      }
    },
    "spec": {
      "serviceName": "drycc-redis",
      "replicas": 1,
      "selector": {
        "matchLabels": {
          "app": "drycc-redis"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "drycc-redis"
          }
        },
        "spec": {
          "containers": [
            {
              "name": "drycc-redis",
              "image": "docker.io/drycc/redis:1.2.0",
              "imagePullPolicy": "Always",
              "command": [
                "/bin/boot",
                "--port",
                "6379"
              ],
              "ports": [
                {
                  "containerPort": 6379
                }
              ],
              "volumeMounts": [
                {
                  "name": "redis-creds",
                  "mountPath": "/var/run/secrets/drycc/redis/creds"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "redis-creds",
              "secret": {
                "secretName": "redis-creds"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "batch/v1",
    "kind": "CronJob",
    "metadata": {
      "name": "drycc-controller-cronjob-daily",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.4.0"
      }
    },
    "spec": {
      "schedule": "0 0 * * *",
      "concurrencyPolicy": "Replace",
      "successfulJobsHistoryLimit": 1,
      "failedJobsHistoryLimit": 1,
      "jobTemplate": {
        "spec": {
          "template": {
            "spec": {
              "restartPolicy": "OnFailure",
              "serviceAccount": "drycc-controller",
              "initContainers": [
                {
                  "name": "drycc-controller-cronjob-daily-init",
                  "image": "docker.io/drycc/python-dev:latest",
                  "imagePullPolicy": "Always",
                  "command": [
                    "netcat",
                    "-v",
                    "-u",
                    "$(DRYCC_DATABASE_URL),$(DRYCC_RABBITMQ_URL)",
                    "-a",
                    "$(DRYCC_REDIS_ADDRS)"
                  ],
                  "env": [
                    {
                      "name": "REGISTRATION_MODE",
                      "value": "admin_only"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_HOST",
                      "value": "127.0.0.1"
                    },
                    {
                      "name": "DRYCC_INGRESS_CLASS",
                      "value": ""
                    },
                    {
                      "name": "DRYCC_PLATFORM_DOMAIN",
                      "value": ""
                    },
                    {
                      "name": "K8S_API_VERIFY_TLS",
                      "value": "true"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_PORT",
                      "value": "5555"
                    },
                    {
                      "name": "APP_STORAGE",
                      "value": "minio"
                    },
                    {
                      "name": "DRYCC_REGISTRY_LOCATION",
                      "value": "on-cluster"
                    },
                    {
                      "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                      "value": "private-registry"
                    },
                    {
                      "name": "IMAGE_PULL_POLICY",
                      "value": "IfNotPresent"
                    },
                    {
                      "name": "KUBERNETES_CLUSTER_DOMAIN",
                      "value": "cluster.local"
                    },
                    {
                      "name": "TZ",
                      "value": "UTC"
                    },
                    {
                      "name": "DRYCC_SECRET_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "controller-creds",
                          "key": "django-secret-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_BUILDER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "builder-key-auth",
                          "key": "builder-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_USER",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "user"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_NAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "controller-database-name"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_URL",
                      "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                    },
                    {
                      "name": "WORKFLOW_NAMESPACE",
                      "valueFrom": {
                        "fieldRef": {
                          "fieldPath": "metadata.namespace"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_REDIS_ADDRS",
                      "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                    },
                    {
                      "name": "DRYCC_REDIS_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "redis-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_URL",
                      "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                    },
                    {
                      "name": "DRYCC_INFLUXDB_BUCKET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "bucket"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_ORG",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "org"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_TOKEN",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "token"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_USERNAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "username"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_URL",
                      "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                    },
                    {
                      "name": "DRYCC_PASSPORT_DOMAIN",
                      "value": "https://drycc-passport."
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                    },
                    {
                      "name": "LOGIN_REDIRECT_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-key"
                        }
                      }
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-secret"
                        }
                      }
                    },
                    {
                      "name": "RESERVED_NAMES",
                      "value": "drycc, drycc-builder, drycc-monitor-grafana"
                    }
                  ]
                }
              ],
              "containers": [
                {
                  "image": "docker.io/drycc/controller:1.4.0",
                  "imagePullPolicy": "Always",
                  "name": "drycc-controller-push-data-to-influxdb",
                  "command": [
                    "/bin/bash",
                    "-c"
                  ],
                  "args": [
                    "python /app/manage.py load_db_state_to_k8s"
                  ],
                  "env": [
                    {
                      "name": "REGISTRATION_MODE",
                      "value": "admin_only"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_HOST",
                      "value": "127.0.0.1"
                    },
                    {
                      "name": "DRYCC_INGRESS_CLASS",
                      "value": ""
                    },
                    {
                      "name": "DRYCC_PLATFORM_DOMAIN",
                      "value": ""
                    },
                    {
                      "name": "K8S_API_VERIFY_TLS",
                      "value": "true"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_PORT",
                      "value": "5555"
                    },
                    {
                      "name": "APP_STORAGE",
                      "value": "minio"
                    },
                    {
                      "name": "DRYCC_REGISTRY_LOCATION",
                      "value": "on-cluster"
                    },
                    {
                      "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                      "value": "private-registry"
                    },
                    {
                      "name": "IMAGE_PULL_POLICY",
                      "value": "IfNotPresent"
                    },
                    {
                      "name": "KUBERNETES_CLUSTER_DOMAIN",
                      "value": "cluster.local"
                    },
                    {
                      "name": "TZ",
                      "value": "UTC"
                    },
                    {
                      "name": "DRYCC_SECRET_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "controller-creds",
                          "key": "django-secret-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_BUILDER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "builder-key-auth",
                          "key": "builder-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_USER",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "user"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_NAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "controller-database-name"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_URL",
                      "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                    },
                    {
                      "name": "WORKFLOW_NAMESPACE",
                      "valueFrom": {
                        "fieldRef": {
                          "fieldPath": "metadata.namespace"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_REDIS_ADDRS",
                      "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                    },
                    {
                      "name": "DRYCC_REDIS_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "redis-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_URL",
                      "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                    },
                    {
                      "name": "DRYCC_INFLUXDB_BUCKET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "bucket"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_ORG",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "org"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_TOKEN",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "token"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_USERNAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "username"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_URL",
                      "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                    },
                    {
                      "name": "DRYCC_PASSPORT_DOMAIN",
                      "value": "https://drycc-passport."
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                    },
                    {
                      "name": "LOGIN_REDIRECT_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-key"
                        }
                      }
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-secret"
                        }
                      }
                    },
                    {
                      "name": "RESERVED_NAMES",
                      "value": "drycc, drycc-builder, drycc-monitor-grafana"
                    }
                  ]
                },
                {
                  "image": "docker.io/drycc/controller:1.4.0",
                  "imagePullPolicy": null,
                  "name": "drycc-controller-measure-app",
                  "command": [
                    "/bin/bash",
                    "-c"
                  ],
                  "args": [
                    "python -u /app/manage.py measure_app"
                  ],
                  "env": [
                    {
                      "name": "REGISTRATION_MODE",
                      "value": "admin_only"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_HOST",
                      "value": "127.0.0.1"
                    },
                    {
                      "name": "DRYCC_INGRESS_CLASS",
                      "value": ""
                    },
                    {
                      "name": "DRYCC_PLATFORM_DOMAIN",
                      "value": ""
                    },
                    {
                      "name": "K8S_API_VERIFY_TLS",
                      "value": "true"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_PORT",
                      "value": "5555"
                    },
                    {
                      "name": "APP_STORAGE",
                      "value": "minio"
                    },
                    {
                      "name": "DRYCC_REGISTRY_LOCATION",
                      "value": "on-cluster"
                    },
                    {
                      "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                      "value": "private-registry"
                    },
                    {
                      "name": "IMAGE_PULL_POLICY",
                      "value": "IfNotPresent"
                    },
                    {
                      "name": "KUBERNETES_CLUSTER_DOMAIN",
                      "value": "cluster.local"
                    },
                    {
                      "name": "TZ",
                      "value": "UTC"
                    },
                    {
                      "name": "DRYCC_SECRET_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "controller-creds",
                          "key": "django-secret-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_BUILDER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "builder-key-auth",
                          "key": "builder-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_USER",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "user"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_NAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "controller-database-name"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_URL",
                      "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                    },
                    {
                      "name": "WORKFLOW_NAMESPACE",
                      "valueFrom": {
                        "fieldRef": {
                          "fieldPath": "metadata.namespace"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_REDIS_ADDRS",
                      "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                    },
                    {
                      "name": "DRYCC_REDIS_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "redis-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_URL",
                      "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                    },
                    {
                      "name": "DRYCC_INFLUXDB_BUCKET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "bucket"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_ORG",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "org"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_TOKEN",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "token"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_USERNAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "username"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_URL",
                      "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                    },
                    {
                      "name": "DRYCC_PASSPORT_DOMAIN",
                      "value": "https://drycc-passport."
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                    },
                    {
                      "name": "LOGIN_REDIRECT_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-key"
                        }
                      }
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-secret"
                        }
                      }
                    },
                    {
                      "name": "RESERVED_NAMES",
                      "value": "drycc, drycc-builder, drycc-monitor-grafana"
                    }
                  ]
                },
                {
                  "image": "docker.io/drycc/controller:1.4.0",
                  "imagePullPolicy": null,
                  "name": "drycc-controller-measure-config",
                  "command": [
                    "/bin/bash",
                    "-c"
                  ],
                  "args": [
                    "python -u /app/manage.py measure_config"
                  ],
                  "env": [
                    {
                      "name": "REGISTRATION_MODE",
                      "value": "admin_only"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_HOST",
                      "value": "127.0.0.1"
                    },
                    {
                      "name": "DRYCC_INGRESS_CLASS",
                      "value": ""
                    },
                    {
                      "name": "DRYCC_PLATFORM_DOMAIN",
                      "value": ""
                    },
                    {
                      "name": "K8S_API_VERIFY_TLS",
                      "value": "true"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_PORT",
                      "value": "5555"
                    },
                    {
                      "name": "APP_STORAGE",
                      "value": "minio"
                    },
                    {
                      "name": "DRYCC_REGISTRY_LOCATION",
                      "value": "on-cluster"
                    },
                    {
                      "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                      "value": "private-registry"
                    },
                    {
                      "name": "IMAGE_PULL_POLICY",
                      "value": "IfNotPresent"
                    },
                    {
                      "name": "KUBERNETES_CLUSTER_DOMAIN",
                      "value": "cluster.local"
                    },
                    {
                      "name": "TZ",
                      "value": "UTC"
                    },
                    {
                      "name": "DRYCC_SECRET_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "controller-creds",
                          "key": "django-secret-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_BUILDER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "builder-key-auth",
                          "key": "builder-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_USER",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "user"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_NAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "controller-database-name"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_URL",
                      "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                    },
                    {
                      "name": "WORKFLOW_NAMESPACE",
                      "valueFrom": {
                        "fieldRef": {
                          "fieldPath": "metadata.namespace"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_REDIS_ADDRS",
                      "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                    },
                    {
                      "name": "DRYCC_REDIS_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "redis-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_URL",
                      "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                    },
                    {
                      "name": "DRYCC_INFLUXDB_BUCKET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "bucket"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_ORG",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "org"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_TOKEN",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "token"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_USERNAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "username"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_URL",
                      "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                    },
                    {
                      "name": "DRYCC_PASSPORT_DOMAIN",
                      "value": "https://drycc-passport."
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                    },
                    {
                      "name": "LOGIN_REDIRECT_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-key"
                        }
                      }
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-secret"
                        }
                      }
                    },
                    {
                      "name": "RESERVED_NAMES",
                      "value": "drycc, drycc-builder, drycc-monitor-grafana"
                    }
                  ]
                },
                {
                  "image": "docker.io/drycc/controller:1.4.0",
                  "imagePullPolicy": null,
                  "name": "drycc-controller-measure-resources",
                  "command": [
                    "/bin/bash",
                    "-c"
                  ],
                  "args": [
                    "python -u /app/manage.py measure_resources"
                  ],
                  "env": [
                    {
                      "name": "REGISTRATION_MODE",
                      "value": "admin_only"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_HOST",
                      "value": "127.0.0.1"
                    },
                    {
                      "name": "DRYCC_INGRESS_CLASS",
                      "value": ""
                    },
                    {
                      "name": "DRYCC_PLATFORM_DOMAIN",
                      "value": ""
                    },
                    {
                      "name": "K8S_API_VERIFY_TLS",
                      "value": "true"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_PORT",
                      "value": "5555"
                    },
                    {
                      "name": "APP_STORAGE",
                      "value": "minio"
                    },
                    {
                      "name": "DRYCC_REGISTRY_LOCATION",
                      "value": "on-cluster"
                    },
                    {
                      "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                      "value": "private-registry"
                    },
                    {
                      "name": "IMAGE_PULL_POLICY",
                      "value": "IfNotPresent"
                    },
                    {
                      "name": "KUBERNETES_CLUSTER_DOMAIN",
                      "value": "cluster.local"
                    },
                    {
                      "name": "TZ",
                      "value": "UTC"
                    },
                    {
                      "name": "DRYCC_SECRET_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "controller-creds",
                          "key": "django-secret-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_BUILDER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "builder-key-auth",
                          "key": "builder-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_USER",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "user"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_NAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "controller-database-name"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_URL",
                      "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                    },
                    {
                      "name": "WORKFLOW_NAMESPACE",
                      "valueFrom": {
                        "fieldRef": {
                          "fieldPath": "metadata.namespace"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_REDIS_ADDRS",
                      "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                    },
                    {
                      "name": "DRYCC_REDIS_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "redis-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_URL",
                      "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                    },
                    {
                      "name": "DRYCC_INFLUXDB_BUCKET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "bucket"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_ORG",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "org"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_TOKEN",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "token"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_USERNAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "username"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_URL",
                      "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                    },
                    {
                      "name": "DRYCC_PASSPORT_DOMAIN",
                      "value": "https://drycc-passport."
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                    },
                    {
                      "name": "LOGIN_REDIRECT_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-key"
                        }
                      }
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-secret"
                        }
                      }
                    },
                    {
                      "name": "RESERVED_NAMES",
                      "value": "drycc, drycc-builder, drycc-monitor-grafana"
                    }
                  ]
                },
                {
                  "image": "docker.io/drycc/controller:1.4.0",
                  "imagePullPolicy": null,
                  "name": "drycc-controller-measure-volumes",
                  "command": [
                    "/bin/bash",
                    "-c"
                  ],
                  "args": [
                    "python -u /app/manage.py measure_volumes"
                  ],
                  "env": [
                    {
                      "name": "REGISTRATION_MODE",
                      "value": "admin_only"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_HOST",
                      "value": "127.0.0.1"
                    },
                    {
                      "name": "DRYCC_INGRESS_CLASS",
                      "value": ""
                    },
                    {
                      "name": "DRYCC_PLATFORM_DOMAIN",
                      "value": ""
                    },
                    {
                      "name": "K8S_API_VERIFY_TLS",
                      "value": "true"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_PORT",
                      "value": "5555"
                    },
                    {
                      "name": "APP_STORAGE",
                      "value": "minio"
                    },
                    {
                      "name": "DRYCC_REGISTRY_LOCATION",
                      "value": "on-cluster"
                    },
                    {
                      "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                      "value": "private-registry"
                    },
                    {
                      "name": "IMAGE_PULL_POLICY",
                      "value": "IfNotPresent"
                    },
                    {
                      "name": "KUBERNETES_CLUSTER_DOMAIN",
                      "value": "cluster.local"
                    },
                    {
                      "name": "TZ",
                      "value": "UTC"
                    },
                    {
                      "name": "DRYCC_SECRET_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "controller-creds",
                          "key": "django-secret-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_BUILDER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "builder-key-auth",
                          "key": "builder-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_USER",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "user"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_NAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "controller-database-name"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_URL",
                      "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                    },
                    {
                      "name": "WORKFLOW_NAMESPACE",
                      "valueFrom": {
                        "fieldRef": {
                          "fieldPath": "metadata.namespace"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_REDIS_ADDRS",
                      "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                    },
                    {
                      "name": "DRYCC_REDIS_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "redis-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_URL",
                      "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                    },
                    {
                      "name": "DRYCC_INFLUXDB_BUCKET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "bucket"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_ORG",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "org"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_TOKEN",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "token"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_USERNAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "username"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_URL",
                      "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                    },
                    {
                      "name": "DRYCC_PASSPORT_DOMAIN",
                      "value": "https://drycc-passport."
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                    },
                    {
                      "name": "LOGIN_REDIRECT_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-key"
                        }
                      }
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-secret"
                        }
                      }
                    },
                    {
                      "name": "RESERVED_NAMES",
                      "value": "drycc, drycc-builder, drycc-monitor-grafana"
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    }
  },
  {
    "apiVersion": "batch/v1",
    "kind": "CronJob",
    "metadata": {
      "name": "drycc-controller-cronjob-hourly",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "component.drycc.cc/version": "1.4.0"
      }
    },
    "spec": {
      "schedule": "0 */1 * * *",
      "concurrencyPolicy": "Replace",
      "successfulJobsHistoryLimit": 1,
      "failedJobsHistoryLimit": 1,
      "jobTemplate": {
        "spec": {
          "template": {
            "spec": {
              "restartPolicy": "OnFailure",
              "serviceAccount": "drycc-controller",
              "initContainers": [
                {
                  "name": "drycc-controller-init",
                  "image": "docker.io/drycc/python-dev:latest",
                  "imagePullPolicy": "Always",
                  "command": [
                    "netcat",
                    "-v",
                    "-u",
                    "$(DRYCC_DATABASE_URL),$(DRYCC_RABBITMQ_URL)",
                    "-a",
                    "$(DRYCC_REDIS_ADDRS)"
                  ],
                  "env": [
                    {
                      "name": "REGISTRATION_MODE",
                      "value": "admin_only"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_HOST",
                      "value": "127.0.0.1"
                    },
                    {
                      "name": "DRYCC_INGRESS_CLASS",
                      "value": ""
                    },
                    {
                      "name": "DRYCC_PLATFORM_DOMAIN",
                      "value": ""
                    },
                    {
                      "name": "K8S_API_VERIFY_TLS",
                      "value": "true"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_PORT",
                      "value": "5555"
                    },
                    {
                      "name": "APP_STORAGE",
                      "value": "minio"
                    },
                    {
                      "name": "DRYCC_REGISTRY_LOCATION",
                      "value": "on-cluster"
                    },
                    {
                      "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                      "value": "private-registry"
                    },
                    {
                      "name": "IMAGE_PULL_POLICY",
                      "value": "IfNotPresent"
                    },
                    {
                      "name": "KUBERNETES_CLUSTER_DOMAIN",
                      "value": "cluster.local"
                    },
                    {
                      "name": "TZ",
                      "value": "UTC"
                    },
                    {
                      "name": "DRYCC_SECRET_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "controller-creds",
                          "key": "django-secret-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_BUILDER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "builder-key-auth",
                          "key": "builder-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_USER",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "user"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_NAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "controller-database-name"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_URL",
                      "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                    },
                    {
                      "name": "WORKFLOW_NAMESPACE",
                      "valueFrom": {
                        "fieldRef": {
                          "fieldPath": "metadata.namespace"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_REDIS_ADDRS",
                      "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                    },
                    {
                      "name": "DRYCC_REDIS_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "redis-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_URL",
                      "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                    },
                    {
                      "name": "DRYCC_INFLUXDB_BUCKET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "bucket"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_ORG",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "org"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_TOKEN",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "token"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_USERNAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "username"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_URL",
                      "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                    },
                    {
                      "name": "DRYCC_PASSPORT_DOMAIN",
                      "value": "https://drycc-passport."
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                    },
                    {
                      "name": "LOGIN_REDIRECT_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-key"
                        }
                      }
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-secret"
                        }
                      }
                    },
                    {
                      "name": "RESERVED_NAMES",
                      "value": "drycc, drycc-builder, drycc-monitor-grafana"
                    }
                  ]
                }
              ],
              "containers": [
                {
                  "image": "docker.io/drycc/controller:1.4.0",
                  "imagePullPolicy": null,
                  "name": "drycc-controller-measure-app",
                  "command": [
                    "/bin/bash",
                    "-c"
                  ],
                  "args": [
                    "python -u /app/manage.py measure_app"
                  ],
                  "env": [
                    {
                      "name": "REGISTRATION_MODE",
                      "value": "admin_only"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_HOST",
                      "value": "127.0.0.1"
                    },
                    {
                      "name": "DRYCC_INGRESS_CLASS",
                      "value": ""
                    },
                    {
                      "name": "DRYCC_PLATFORM_DOMAIN",
                      "value": ""
                    },
                    {
                      "name": "K8S_API_VERIFY_TLS",
                      "value": "true"
                    },
                    {
                      "name": "DRYCC_REGISTRY_PROXY_PORT",
                      "value": "5555"
                    },
                    {
                      "name": "APP_STORAGE",
                      "value": "minio"
                    },
                    {
                      "name": "DRYCC_REGISTRY_LOCATION",
                      "value": "on-cluster"
                    },
                    {
                      "name": "DRYCC_REGISTRY_SECRET_PREFIX",
                      "value": "private-registry"
                    },
                    {
                      "name": "IMAGE_PULL_POLICY",
                      "value": "IfNotPresent"
                    },
                    {
                      "name": "KUBERNETES_CLUSTER_DOMAIN",
                      "value": "cluster.local"
                    },
                    {
                      "name": "TZ",
                      "value": "UTC"
                    },
                    {
                      "name": "DRYCC_SECRET_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "controller-creds",
                          "key": "django-secret-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_BUILDER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "builder-key-auth",
                          "key": "builder-key"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_USER",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "user"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_NAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "database-creds",
                          "key": "controller-database-name"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_DATABASE_URL",
                      "value": "postgres://$(DRYCC_DATABASE_USER):$(DRYCC_DATABASE_PASSWORD)@$(DRYCC_DATABASE_SERVICE_HOST):$(DRYCC_DATABASE_SERVICE_PORT)/$(DRYCC_DATABASE_NAME)"
                    },
                    {
                      "name": "WORKFLOW_NAMESPACE",
                      "valueFrom": {
                        "fieldRef": {
                          "fieldPath": "metadata.namespace"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_REDIS_ADDRS",
                      "value": "drycc-redis-0.drycc-redis.default.svc.cluster.local:6379"
                    },
                    {
                      "name": "DRYCC_REDIS_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "redis-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_URL",
                      "value": "http://$(DRYCC_INFLUXDB_SERVICE_HOST):$(DRYCC_INFLUXDB_SERVICE_PORT_TRANSPORT)"
                    },
                    {
                      "name": "DRYCC_INFLUXDB_BUCKET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "bucket"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_ORG",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "org"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_INFLUXDB_TOKEN",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "influxdb-creds",
                          "key": "token"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_USERNAME",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "username"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_PASSWORD",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "rabbitmq-creds",
                          "key": "password"
                        }
                      }
                    },
                    {
                      "name": "DRYCC_RABBITMQ_URL",
                      "value": "amqp://$(DRYCC_RABBITMQ_USERNAME):$(DRYCC_RABBITMQ_PASSWORD)@drycc-rabbitmq-0.drycc-rabbitmq.default.svc.cluster.local:5672/drycc"
                    },
                    {
                      "name": "DRYCC_PASSPORT_DOMAIN",
                      "value": "https://drycc-passport."
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_AUTHORIZATION_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/authorize/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_TOKEN_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/token/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_ACCESS_API_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_USERINFO_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/userinfo/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_JWKS_URI",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth/.well-known/jwks.json"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_OIDC_ENDPOINT",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/oauth"
                    },
                    {
                      "name": "LOGIN_REDIRECT_URL",
                      "value": "$(DRYCC_PASSPORT_DOMAIN)/user/login/done/"
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-key"
                        }
                      }
                    },
                    {
                      "name": "SOCIAL_AUTH_DRYCC_CONTROLLER_SECRET",
                      "valueFrom": {
                        "secretKeyRef": {
                          "name": "passport-creds",
                          "key": "social-auth-drycc-controller-secret"
                        }
                      }
                    },
                    {
                      "name": "RESERVED_NAMES",
                      "value": "drycc, drycc-builder, drycc-monitor-grafana"
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    }
  },
  {
    "apiVersion": "networking.k8s.io/v1",
    "kind": "Ingress",
    "metadata": {
      "name": "controller-api-server",
      "labels": {
        "app": "controller",
        "chart": "controller-v1.4.0",
        "release": "release-name",
        "heritage": "Helm"
      },
      "annotations": {
        "kubernetes.io/tls-acme": "true"
      }
    },
    "spec": {
      "rules": [
        {
          "host": "drycc.",
          "http": {
            "paths": [
              {
                "pathType": "Prefix",
                "path": "/",
                "backend": {
                  "service": {
                    "name": "drycc-controller",
                    "port": {
                      "number": 80
                    }
                  }
                }
              }
            ]
          }
        }
      ],
      "tls": [
        {
          "secretName": "drycc-controller-certificate-auto",
          "hosts": [
            "drycc."
          ]
        }
      ]
    }
  },
  {
    "apiVersion": "networking.k8s.io/v1",
    "kind": "Ingress",
    "metadata": {
      "name": "drycc-influxdb",
      "labels": {
        "app": "drycc-influxdb",
        "chart": "influxdb-v1.1.0",
        "release": "release-name",
        "heritage": "Helm"
      },
      "annotations": {
        "kubernetes.io/tls-acme": "true"
      }
    },
    "spec": {
      "rules": [
        {
          "host": "drycc-influxdb.",
          "http": {
            "paths": [
              {
                "pathType": "Prefix",
                "path": "/",
                "backend": {
                  "service": {
                    "name": "drycc-influxdb",
                    "port": {
                      "number": 80
                    }
                  }
                }
              }
            ]
          }
        }
      ],
      "tls": [
        {
          "secretName": "drycc-influxdb-auto-tls",
          "hosts": [
            "drycc-influxdb."
          ]
        }
      ]
    }
  },
  {
    "apiVersion": "networking.k8s.io/v1",
    "kind": "Ingress",
    "metadata": {
      "name": "drycc-monitor-grafana",
      "labels": {
        "app": "drycc-monitor-grafana",
        "chart": "monitor-v1.2.0",
        "release": "release-name",
        "heritage": "Helm"
      },
      "annotations": {
        "kubernetes.io/tls-acme": "true"
      }
    },
    "spec": {
      "rules": [
        {
          "host": "drycc-monitor-grafana.",
          "http": {
            "paths": [
              {
                "pathType": "Prefix",
                "path": "/",
                "backend": {
                  "service": {
                    "name": "drycc-monitor-grafana",
                    "port": {
                      "number": 80
                    }
                  }
                }
              }
            ]
          }
        }
      ],
      "tls": [
        {
          "secretName": "drycc-monitor-grafana-auto-tls",
          "hosts": [
            "drycc-monitor-grafana."
          ]
        }
      ]
    }
  },
  {
    "apiVersion": "networking.k8s.io/v1",
    "kind": "Ingress",
    "metadata": {
      "name": "passport-api-server",
      "labels": {
        "app": "passport",
        "chart": "passport-v1.0.0",
        "release": "release-name",
        "heritage": "Helm"
      },
      "annotations": {
        "kubernetes.io/tls-acme": "true"
      }
    },
    "spec": {
      "rules": [
        {
          "host": "drycc-passport.",
          "http": {
            "paths": [
              {
                "pathType": "Prefix",
                "path": "/",
                "backend": {
                  "service": {
                    "name": "drycc-passport",
                    "port": {
                      "number": 80
                    }
                  }
                }
              }
            ]
          }
        }
      ],
      "tls": [
        {
          "secretName": "drycc-passport-certificate-auto",
          "hosts": [
            "drycc-passport."
          ]
        }
      ]
    }
  },
  {
    "apiVersion": "cert-manager.io/v1",
    "kind": "Certificate",
    "metadata": {
      "name": "drycc-controller"
    },
    "spec": {
      "secretName": "drycc-controller-certificate-auto",
      "issuerRef": {
        "name": "drycc-cluster-issuer",
        "kind": "ClusterIssuer"
      },
      "dnsNames": [
        "drycc."
      ],
      "privateKey": {
        "rotationPolicy": "Always"
      }
    }
  },
  {
    "apiVersion": "cert-manager.io/v1",
    "kind": "Certificate",
    "metadata": {
      "name": "drycc-influxdb"
    },
    "spec": {
      "secretName": "drycc-influxdb-auto-tls",
      "issuerRef": {
        "name": "drycc-cluster-issuer",
        "kind": "ClusterIssuer"
      },
      "dnsNames": [
        "drycc-influxdb."
      ],
      "privateKey": {
        "rotationPolicy": "Always"
      }
    }
  },
  {
    "apiVersion": "cert-manager.io/v1",
    "kind": "Certificate",
    "metadata": {
      "name": "drycc-monitor-grafana"
    },
    "spec": {
      "secretName": "drycc-monitor-grafana-auto-tls",
      "issuerRef": {
        "name": "drycc-cluster-issuer",
        "kind": "ClusterIssuer"
      },
      "dnsNames": [
        "drycc-monitor-grafana."
      ],
      "privateKey": {
        "rotationPolicy": "Always"
      }
    }
  },
  {
    "apiVersion": "cert-manager.io/v1",
    "kind": "Certificate",
    "metadata": {
      "name": "drycc-passport"
    },
    "spec": {
      "secretName": "drycc-passport-certificate-auto",
      "issuerRef": {
        "name": "drycc-cluster-issuer",
        "kind": "ClusterIssuer"
      },
      "dnsNames": [
        "drycc-passport."
      ],
      "privateKey": {
        "rotationPolicy": "Always"
      }
    }
  },
  {
    "apiVersion": "cert-manager.io/v1",
    "kind": "ClusterIssuer",
    "metadata": {
      "name": "drycc-cluster-issuer"
    },
    "spec": {
      "acme": {
        "server": "https://acme-v02.api.letsencrypt.org/directory",
        "email": "drycc@drycc.cc",
        "privateKeySecretRef": {
          "name": "drycc-cluster-issuer"
        },
        "solvers": [
          {
            "http01": {
              "ingress": {
                "class": ""
              }
            }
          }
        ]
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "builder-key-auth",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "helm.sh/hook": "pre-install"
      }
    },
    "type": "Opaque",
    "data": {
      "builder-key": "T09SSzN3bVVIUEtYdlZBSXV1aUpFeXRVY3dpWFFxOTVtclpTTmZPRk5HaEZEWnNpalhRbzdTSU10bFFwcWxwWg=="
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "builder-ssh-private-keys",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "helm.sh/hook": "pre-install"
      }
    },
    "type": "Opaque",
    "data": {
      "ssh-host-rsa-key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBN3NNY2g4Z3ExZGN2U0g0RFRnZ1ArTnFadEJNZ3pZQno5SUlLbHlQSXNjRHhVVVJpCkxkb2hLWFowQm45V0tLQ3ZWRFoxbkNtanh2R3ptK2NEZk03dDVrY2prNm5OWXM0MFRQQ2dyN1VIN3BCcEJHVisKb1BTWXFzT05vWkl6L1VoME5URTRFeWtVTlBBYkdEVm9rUjI0eTZjcW9EamhTbitoVm43MUZRZ0xyejcxYVhpQwpaS1lSbXVtMk9TZTE2MVZhck5ObDdaei9rclBXZjFudlRvTys5aUJCWjZuZk5XdDByc2lPZ0I1Sk5sNG1MTlJ6CkpMcFpSL0NyQ0pYSHhjQ1FzSXdqTFdSYmJhS0tvMDR6QWEwOCtxNXVTVHM4Uk96alBFUHhZelVsNC9jT25RY0MKN28vZFViR2VOSTlHUVFEM2I2dWFxbEF5ckJSRTYzWkdGZXJ0NE9DWWJjVk1saWF0OXB5dTNmYjBtSHpyS1FiUwpKUDRoeWlsV01iNUQ2WlMzOVlXdVZJL3hNN3M1bmhnTGJTQXFYdFAyWW1WVlMzUFp1aCtUdjA3QUNiYS91Y0Q0CnlhN0RnUVZoeGJPWThLYUtraW40R1dCVGxqZ0M1a2N6L295Z0dpV0NiYUlob1RuenFDcUhhblk3ZG1EalBUQk4KcXJESk1zY2NPc2QwTkJyRFowM0lvNXg2QnFsZGorbDljMUtQK1hOYmlOMGJqSUFnTDdPektvZ2pTaGNzZGZNbQpoRE1sZ2FPS0JOdkU5WDRmcTlwaFg2MXVJbFdzOE4xSWRBQVBPMUVKTTFvNCtZN21mMEtUMjExSVJNak9zYXMwCjNjVTRRWkhpYUovMjhsN0tGVlFsZ2E3Y2ZUZDFNVkRTNFBLN0VsSUk4Z2RBWU5wUkkxeTlmc1VRY05VQ0F3RUEKQVFLQ0FnQlRQdy81ZjU3L3cvRW1jMWt2b2J2LzVpZmxFeTVDdUdDMWhZbXZ2TGhDMGFUUjB1ZndXTGRyUDNPZwp1RkVRQlVaY05FaTVWQU5ZWC9saGlDQTlLZURrZ3pVeVRPZmhaVWZ5ODRyeStFbDFza0FMV2wvV09ySG9DQnFmCmxOd3ZtVTE3SmxnSXhpL1hiVWZsSHVvQWZyNXBzelUzZTkyQkhoTGdsNDlYNytBekQ5NTlFWmxWQWxudEMwT1AKbGZybHZITExBMEhzb09xeSthVDE3aU56MnBlQU5Tcll1KytwTG5nV1lMTGVsTEN1RmhGMVcvVnhmcytXTjZGSwpjdjZlUWsrd1hvdjlUWnBiRldzRkdVVExkdDFtQWQ5T0JTczBWT3U5bldyU1RqdVJ5aGY4USsrUHdmVkdnSWxLCmhoSFdwRUdoVzlHblJDTUd3R0p2UG1PZFRMWDNINjlhc2FleDZaSWVKTFM0SkFNeTFFWEJkQlhDQThhd2xWbG0KSU1JU0xsSmNERjlGeDFLZEdGRE0wdkIxY1E0dndYa2NrbTBVeFpEUnVUQ21QNVhlT0Rqd2ozbHBoYjIrRi9zeAp6Z0R1T1hOYUR5N3JFOU5XSmVYVUVGakZkVHhoNVZoK0hoSjhDeFppTGNJUExTNlhGT1hPaUpnWTFGQnNRZzJLCm10TzR1aUhUN2JMSXNTOFR0UHd3QXo3amlUc3MvQk1RK2xYZDRBNnRjZDY5YmdTMGRUTENESzdGYzVMSnorMlcKOWVOK1ZSOCt3a0lJY3FSN0VpcVgrRjY1ZDhBWlFYeTAyVm8zTDd2UmROVEtKWGhvYm44eUQ1d0cvQXZFK1FtdgovQjEvTU50bnNTVlZ2NHZ2ZVMxNldBeWZTU2xHZ1ZUbFRCQ3poSVlpQ2F3N1ZJbW1BUUtDQVFFQStYLy8zalFVCktBWm1sRS9ScDQrRWtjVkJPdWpKK2hYWVI5eWZXOVlQVXpnQVNDRWNvUEVJa29xZ05qY2trOVJmWStPcGJqNk0KTFJSWnFnejZjQUlZUnh4ME5DR2xaZEJrUjcwMkVnQVRRd21md0Zzc2dFYTZ3MG9Db3N4enNFRkU0MTF0NlRZRQpSZFAvZTNValBUZTNPNVRzdis5N1lIWmFmRitpOXZEUkltMGpvdDFKTnpiSEE3V25LN0ZlYXRlL1VCNjE1Yk9RCkwrdVAzVkIzWkZWa3dyTlplbEZlTHNxSUh6S0o1VVdRSFc2K3l5ak9SVEZFZlFOb2VTbzZ3TEdEMnBmdlB0S2gKNGxpM0EzeTJqNVBEWEdsbW50bjZidDRLd0VKOVFRT3REcnlqSDNROExxaEVCMUcySURWZFNZMmkyNFM1TXJ2aApqY1BpMFZWKzZLckZ3UUtDQVFFQTlQdC9aQ3JSdEdXNzZ6WEpqUzJuNW5zWmxqQTZUb3JEc3hIM3VzY1cwVTFLCnBkR3JrY2g3aGIyelNzcXFvUXRPWWFmYzd3RDUvM244TmNZN1lNcDRodUlkVXkvL0tvRzhGSUFWdVVYcFdZbU8KaENIR0Exdm8wYkJyZUxPU1VvQi9nb1AzUHdUL3VuenlqdVJzU3RwczJiMVRLd2lZdGpHNGp1eG05bzZCWm9HSQpGTi9EcWZ6UVBTRGZsVkh1clc1WlNySWM2bzY1bGdyQVVrdFFrQjVEcjl1TnVTZG5NZk53VlZEdGNqT2M4SzdwCkpNLzhrb0ptRXR0akJ4OElOemI4YjZHU1g4QnBuMlBCZU9YUW85SDR6RHdPMnFJR0M0RXJJc0RIYnFuVUVGSUIKWVdJSHduY05VemVoWmkzNnpTSnFOb0dqWFZ0dURlZmNHSnkyUHN3NEZRS0NBUUVBb2p0ZXJxZUNhN3d0dTBaagpkdWJWTnN2aWJHR3Q0NVdNdXIxMFNZelpEaTJkMFVqbWlxZndBUWx1djVIL2tMaEpCblNrV1BFR3lORXd0R2dYCjkva0V2RWgrTHQrcDRwZ3NmSkZGdFZLak03WHdVRzE0ZERpSmZDNkZwRUg0LzZTUkhKNUZ0NXpPRG5HWThEZnMKb0FPNGUxK015Z2o0V25MYXg0Q1FRSzI1N3Y2MGExUWtKV2pTNDFDYzBNWldOSGJ4Q1RITzZQdG5TQ0dOdkVSMApQYU5oRDFEN1g1UEUvL3Zsb3hPRG9yY216RnlVWnhtemRqNWc0RUQxRDhRcnk5d2hkbVBReHpMQzNLRCs3NStLClBiWEJGRGZjNkhHb2E2cXBwdllVNTg5eUdlRUMySk1HQnZpV3M0T29QeTB6NlgzVlpaUFpzR21HY2wzckFGN3QKVkhDbWdRS0NBUUFmS0NsQWhRMmNvdCt1ZjIyOXpkT3Z4WEl3bnJ1YnA1eFNGdlBweGs1Sm1rbm5JdTV1SVJCTQpweDY1WVdNb0RqY094bm1iMEFUN2ova2FvYmFGamRxY1ZQK2p4OVB0QlFqMWxvQ3N5bzV0KzhlcldGeEZxeGZHCksyalB0ZzdpL1VLNlI2eFhVSHh4ckZoeEFlNGY2djJ6QjVnZlBmMm1GbGJCbnFGTnREd1MzR0NCUHlBMGExblUKbkd5eklmTjREVFBBQXowWU84U3dwM2RrUC8za0JtVlhaVlgxK1dQdmYyV0hCRDdlcWwvSVlJWjRUeGR4VHJKSwpyYW8vaXB2UjRlVmpFU3A3a1E0ZDNtTUp6RGluelJtV2FBRC9uMkdqYnU4Y2dXWWIxZStKajlSckhUdWRhT1RCCjg2NU1QNGJKTmhwS0NsekxqOGhFYm51WWliM0g2Tk10QW9JQkFRRDMrdFB0N25BQTh2bXFYVkVrVTArdnlValgKMUhMTm1Hb2NobGMyUFpyWXcwaEJBeHcwMnJHQitrZmtXUVUwbGFIdnRoTnY5b3orMC84dVZHVHE4cDUvbFllVApRQ0FXR0tCQ1VaRGFiM2p1VkZINE9tNS8wZXN5d2VSN1hMTWdKdDNPWHAzZ0FaZjVTSG1wQzZGdjZLamRrejFhCmF3QURxd0JIamxpblYxRGtlbWZDUGI2K0RKd2I1TjI0bC9hZ2ZCRUJ3dFh1MEFFbGVqVVRBd1NMZWEwaXAvdUQKVGxXWFBwbFVTU01NYUJ2Q3BhdjN5UkRQV1U2NXZZQUQ0SUc2Q2Rucmk5aWtMZ2U2STRqaXJDT3V5VjVBSE9IdQpDRzA4M1hnc3hXQlFnOXlJNURNU3QrblFUNXpsbStwQk12OTkzZm42cWVtaExNY3pnYTBwWFM1d3NsOHAKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K",
      "ssh-host-ecdsa-key": "LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUZXRGZJYzBSNktuaTB3dUlVTHIzS2tkdUdZNE5QQVRwVkZmSWZ3M0M5L2dvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFV2RSWkxId3h0QUlxQXRHQkF1SHJoN0ltMzZPbHJqMTFGb25XVmVKRHhRUU9xWnhLUzlyTAo5ZXBsRTE3eUNIeFhxVGthRHdmb1ViQm9RRzdHOGxZT3VnPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo="
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "controller-creds",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "helm.sh/hook": "pre-install"
      }
    },
    "data": {
      "django-secret-key": "azZPQi5SInhpRD1ESyV4PlY6eWhmUk8jZlo4WCBuRT4iQWZQRmZbfXMtOD9NaF1xPV82VDkzJ1Y5N0ByamxCdQ==",
      "deploy-hook-secret-key": "UzlsJUxBO0wrKnJ0diFYb2lnImEseTliVjMnKTpBUyRFRSt+Z1EqLG9IOTtcdGQvX3hWVXUzPWxveHNNXHFsPA=="
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "database-creds",
      "labels": {
        "app": "drycc-database",
        "heritage": "drycc"
      },
      "annotations": {
        "helm.sh/hook": "pre-install"
      }
    },
    "data": {
      "user": "cjBQS09uR2JGcjlhOVVHdmZqcGVKY0xHZkhrN1pYR1I=",
      "password": "TVpCaEI0cFRsMGRFZThoQkx6dWlLNWdERjR4RXpBbkk=",
      "controller-database-name": "ZHJ5Y2NfY29udHJvbGxlcg==",
      "passport-database-name": "ZHJ5Y2NfcGFzc3BvcnQ="
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "passport-creds",
      "labels": {
        "heritage": "drycc"
      },
      "annotations": {
        "helm.sh/hook": "pre-install"
      }
    },
    "data": {
      "django-secret-key": "MUY2SnJGWDJYIVQ+V29EcD07Oy17bjpSMmJscyY1Ok0nI3UxLTlkIXZiUU9GSkV8ZE1YaW1fK110NlgzI1ZBUw==",
      "social-auth-drycc-controller-key": "bG56MUtibDN5WDV2bUJNY3hMblBVSWs3dGZkcTAyVEZURWxybW1FSw==",
      "social-auth-drycc-controller-secret": "aW1uQTFWZWhudmlranBnOWFjTUxtYmtNUG9TbWw4S0QyWDdhOUlXejhScFZxdXdvemNhQWp5T1FGb3RvdDBqZQ==",
      "social-auth-drycc-grafana-key": "VVp5Z2VNTzNvcW8xT1Vwc2o4TlZLWFRlWkRHTm5ZMFFQemNnT2s5QQ==",
      "social-auth-drycc-grafana-secret": "aDRjMmNCbFlXT3c0dXhYZ1hWTEhGTzBnekFYNjRRd3E3dHNFazBQTHRJWGUzZ3Rpc2ZVU040NkNQSTAxTnFvag==",
      "oidc-rsa-private-key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS2dJQkFBS0NBZ0VBd2RHVCt3MGtIdjVEMEdMVFdlemxTdHN1R0o0NE92UHdBSzlJcjF2R3NIcXFMWHk4ClljbXJtbDdic1VwMTZVT2RXT2xvelcyekczTGkvU1NUSDh1Y3RWYU9wWlFCSndtTmRCSkU0NmNhWHBhakUycmsKei9sYnQrK1l0OUtDQStKdVdrMTJTQ2VNRHlzK2pMMVNnQnNTSlNuZEMzNDdENkQvU3VmSVM2Sm16YXgvSTEwbAp6VENaZDh5b1MybUVmU2M1MHNqMFBlKzZQS2hOOHkxckhIR3NId1IyM0o1QTB0YzhsLzFiRTFVUURBOWtIUzN2CmY1c2dSN0x4QXE5Y290NUQxVmxjbzdXY0VSRTR1elduOGxTSFFMcmNjQ2FQRWY5bnI5d3VqL01ISjZpSGxUTTQKenlZVmQ4ZEJLWG44akhXVlk3Qll1bEJJT1VFMmpESjBaaXFCS2wvNzMyUkludjI2T2d4b2luQTlzMmlwNS96cwpqeXd4ZDJhVzFIK2FGS0RrMEs2dS8xclM3U1YrYkpoaGp5UzhkZ0dPT1lvRXlIWko1ZWowZTNNNVFud3Q0MjlBCklEa2toYmE4VUJBbGpuaGhqNTJsaVlHcFVYbWVvV0RiTnNWT0NlYTZ3T09CU0xCUFh6bjViU1FmQU1xdHMrT1oKNGc2Qm96RnJOZGdhSFZDTkpWd2ZqR3VDcDNyYTlpd3N5d296ZTNrM2lJcU84aFJFajJ0bzlOcHAwWE5MQkFzUApTNDZsMklRTXhlS3o3OUZ5OXBGZFZpQ2RHSGgxeDJVTENzQWpJUnlUMFgzdndMdHp3N1ZpOTRPa3JSU1FlZ2F1CjRSaW5XYlBPNTRIZDMzOWk1dmhDZjBpMkRWVzhWM1RMWEpwckNMdmw2TnRENEdRbnM4aGErMVVlcDgwQ0F3RUEKQVFLQ0FnQlY2TWgzK2Y0dHdyUmFWTU9yMDJaYkJNWHM0WXk1RE5FdjdJSUNRR0xVYkxxcnlPTlRVT25BVmhWNQpBekU2Z043b3Z5VFdFYTdYRnRob0xtTU1MOXM1UWJHZTBQaWx6Z1VtRXNiNFJXUlowdGxielFDNDhxVmw1VXpECkJncmRIK3VjR1VPNWZkWUdEenY5ZEJseWNRMWM3YTV0M3JqZEY1YXhKQVhUQ0p3YXhEL2ljL0pDZmkwNFBiM0gKRjNGRGJEU2tLckNnRjNkc1ZZbWZwVjBaMFlUaWhyOE0wUlNZb0JEYXFkRkp3MldHZ3ZmME94MHlhWmNvVUxlbApZZ2RrcGJKWmllK1hIUE9kV1EzVlpWWVpBc0NrdjI3Z1F5Y2RhaUVTZ1QwZVR6RzNzV3JQaGxIQzkvV0NEdzdpCkRKRVZ6VFMzYUQ0YjcyUGtCUFRodGFlRWRZaWtjMGRKUENicTRPSkFTRXJ4dkxkdVJNajBRRGZvKzFQOHltKzIKRVZsSCtEcmIxeWZsd1YrYVpzZTQ3cmZxLzYxREtFK1Z6MUR3NlY5clhYNTFCd0g1eXllc0hOUHBtQzh0OUM4cgplbGVacXlNUUJKbXU1Z2w3TlRjZzhGQ0xPeHV5eGc5UUtnT0dmUU9HR09DdzF4RUlONGk3bjh1elZESU05OEZ1ClNjZ2tUYWwyZUIzOFMvSG9kTXpzUGFHM1BqenhJMUlwa1pQWnlzekQyV0V1ZndVb1dMVHVlejkwNUFSQlYvQzIKVzQ2UW0xbVJmRURYRmNmOUswNklSK3JRcFdpMytPcDFtL0FFR3FXNnVzRHlHY2pvMjExRVVwUlV5YTF6enZiUwpTd2xmK0Z3MGFzRzUvY2JwODNwUzZzNTM0NnpsNE5TejJRR0h6WklqVmVJVXJtTk93UUtDQVFFQTRKb2YxREJMCkliYzNidVZzZ2VPZmdtQnJreWFGYkREUFB2VXlFY0ErVDFVR0t6c20vTjgrSWVXZ2lGYy9OWDFNRDlNaFZXRngKQjNuTWxFVHB5Rjh3Rm1GWlcyK0RVbGxDN0o2cVovUG1LdkRxQ0N0R0dTbkdwQVRpOGN0cVlXUVJOS0xqdFpsLwpFMzNKam1hWGxyeVUvUUhnN20rSGtWc2x5VzZGVCs4VFdGWjB3RXRHRHJaNGkxZmNBYldiVGRUUkVCZGJVajV6CjFrOUZicE1RNmFDTnpydlpubUlETnpidjdCb3ZUc1JBYWtLbC9udXpsdmtsVytqeERIR2tmWncvVXNybjZiY2IKc2U0bm1XeGUyNmdqYitXZEZFZXhpWk9XMFdYRWZZSlNGL0VjWFpmRTNDVUxIMGRWZkxTV1p6TnVYTVpWdEZ2TQpHd1BKVlc2d0c5aC9QUUtDQVFFQTNPbk5qL2htSHY3MGRSR1hiUVlwMHRwa2tJTkZkblg4OENJbmh0YzFUQjN3CmNYV1ZBbGw5YWE2YUxjMVV0SzhmTGN6cHFxanRRVGFNZ1ROSGFwU3c5cDBvOHNJY3Z4aEQyQVZxU0FkMlQzWGoKbFl6OFk1OFc4UGhHdkdPTXFQSEZrUWs1WC9iYVUxUmE4cHNUbUlaYlZoZVgxbU4rYjlBNjBiV2ZwUml1Yk03Qwp0clF6cVoyMTRNOG55UkZySnNPS2tXeHFqd0tSYWFmSTBaVWdnaW5aSC96R3dGaGN1dDJYeFVWVDlkaVRxNWRoCmM1NncwVXU1NTl5V1JobTcyTWUyc0VTc1hNMHc3SkNhenp2bWtCUFp0RVBLNUJwbHhBV1JqQm8zZ2Y2TlNyYXMKWlFPU085ZUZlN0lzVWw4alVGR1BjanVqSkFvQ2duVm1HWU81Nm5aVDBRS0NBUUVBZ1ErdmVJT2p1S1VLZ252dApCUnBpZjAyZW96a0FkREg3OVFaNmxmNnREM01oRDFoM1I5bVVYM0FPOWltRVZkMUJCdHJnamFwbmc4ODJnb0N6CkFnUElveU9mY0U0ODNPWVQ4ZG9ldTR0SVdLYUZKTnFROWthdU1YUHBZTjN0ckRjUE4vcmQ5RzFXdTBHTnYza3UKWkZ6TEZET3ZKL1FJcDdzRGxLTWdrZFVrZlo5NGlVTDM1OTVzbUUyTlM2SXFzdWUybHBPRlUxWTF4QkZiS1hYeQp3djBTWDVoTUxabk9sVHpKVXhlYzFac3FGS1Zsc3owcjduWU9SS2t2VW1JL0RqcnBuRTZpUXdlSUw0OVZTL0VjCjlRWENEenVYTHA4ZjRwbGZrY1h6eWRkSUN4L3VsODF0UHI4K2krTzJ1T2tnZi83cXpQN2ZJcnVaSm5EZmtXc0EKWVkvZlZRS0NBUUVBdGRlV3A5MjJZZWxIM0YyZ29kT2k5YmRqZERrNkltcTR6QW14TTZOT2NkdHJJbG5CVUcvTgpkZ0tOVXdwam9WOU5jT3Z0bzlidGhQS2I4WFgrWVZNSDM5ZzU3cW10OC9iTFViUVRhanNLUGhveVBkWVJvd2MvCllSZGRVcEUzSlpIdUtKYkpMWjhLMC9EcDlDMkdrZFIydG9VeExQNDFBMkVLS2JreE1qc0F5UHZnOTNlWjF4TEUKdGNxUFcwa0ZSS0ZOSEt0N2cwQi81ZEtBMFZQSnNKczE2TWl2NllCU3hGYkhLVkVKN2FKYTI3SCtPNmZ5c0RWLwpUOFlaeEpaR05Ba2c3ak41RmVLcFZQRXJIVTZYV1IyZDVHNnhRZFlnMHB3cTFJSjRFbjh3V3NISFlsYndObVlQCnNHUlhhMjU0cVJLWjIxUVAxQWlSVEVYS3gxSFE1WmlGSVFLQ0FRRUEwTlhvdEh3NFpJMkRPVGFoYmJVVnNQTWYKM0VqYXBVakZMc0hnejBsZ0xoeFdIZGFwZGFpaytsQmgzaHVxOUY2TTIydFFKM2dlWCs5QWw1Z1RwMW5jOWhhNApsZEp0UlgxOGRxcm5WYnltcE1IT215aWlnbndsNklSV2xZa1hURCtaNlFBMWt2TlFkZ2czOHpBSitIQnhqVGpYCjVzRE9vTEQreHAzWEM0d0liVFpISy94N0V1Z1V5aVlZekxqWDIxdEx0U042ZUt3ZUtEbTU3WWYxVVpCc1ZGcGYKZjA1YnU4cHdPbGJ1akNSOWdVMFY2bFN5WUE0bW5uVHFwR1BHY2RKTGw2Q3p5TVZ0dmFPdEdHdm91cFg0NzVFSgpJdUVCRE9pR0ZwMzMrZ2tPTTJzNWtvUzh0RDgxS0diVVhVc0svcm40SzZmNmx3cGY1N2EwUHJzN0J3bHVqQT09Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg=="
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "rabbitmq-creds",
      "labels": {
        "app": "drycc-rabbitmq",
        "heritage": "drycc"
      },
      "annotations": {
        "helm.sh/hook": "pre-install"
      }
    },
    "data": {
      "username": "