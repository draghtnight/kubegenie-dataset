apiVersion: v1
kind: ServiceAccount
metadata:
  name: release-name-vault-operator
  namespace: 6wVWlrk2P
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
---
apiVersion: v1
kind: Secret
metadata:
  name: release-name-vault-operator-apiserver-cert
  namespace: 6wVWlrk2P
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
type: kubernetes.io/tls
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURlVENDQW1HZ0F3SUJBZ0lSQUx4N1RtdVliSWV5NW5PRi9OY2MzRUF3RFFZSktvWklodmNOQVFFTEJRQXcKRFRFTE1Ba0dBMVVFQXhNQ1kyRXdIaGNOTWpJd05qRXlNVFF5TmpBNFdoY05Nekl3TmpBNU1UUXlOakE0V2pBbQpNU1F3SWdZRFZRUURFeHR5Wld4bFlYTmxMVzVoYldVdGRtRjFiSFF0YjNCbGNtRjBiM0l3Z2dFaU1BMEdDU3FHClNJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURQYlVRTExLTXRyU1N4czB3MXoyM0RLNVAvMTNJUU1hdjIKMHJhZDUra3hXMW5OY1VBdDRPU09SK0R4eFhsRHVXKzcwRjZyWHRPNVdUUUFDQkVJUk5tUy85ajJqenAxMFRTUQoyeS9kaFJLaCsrU04xT1hQZ0F3Qk5mV3ZMMTJlZGRYNDdScUNRSjEwSmhQSzIvbU1zaDJyV2dpNGg1THNjSWluCnhZa0pRVFo4OXpDTzVuM0xVbnpkMkJJV2pOLzFvb01yektZT3ptZUk4MXJib3M5NGlKU2RtMGFlYUhUNWRYYTEKVXdvQlcvQzd1d2g1am0yd3R4djEwcE9wOXVnVC9sdGNBSmIyYURkOGR6S21PbFpseEZMSGFPSnFqa1lGT0ptawplYmdoaFpuaDBRMnA1YkVIU0NSYjNjREJSMng3eHdLaTA0akp4WGRtTU1CMm1rRVJOanpSQWdNQkFBR2pnYm93CmdiY3dEZ1lEVlIwUEFRSC9CQVFEQWdXZ01CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0QKQWpBTUJnTlZIUk1CQWY4RUFqQUFNQjhHQTFVZEl3UVlNQmFBRk1qdTlPN1hidjVvMEFnQnhWbngxWG43dEVXegpNRmNHQTFVZEVRUlFNRTZDSTNKbGJHVmhjMlV0Ym1GdFpTMTJZWFZzZEMxdmNHVnlZWFJ2Y2k1a1pXWmhkV3gwCmdpZHlaV3hsWVhObExXNWhiV1V0ZG1GMWJIUXRiM0JsY21GMGIzSXVaR1ZtWVhWc2RDNXpkbU13RFFZSktvWkkKaHZjTkFRRUxCUUFEZ2dFQkFEb0xhdE1HQzB4d2puM2QyU3NaekFQSmJhR2Q4SlN4VVRXbnlCYWIyamxPS3dmZgpGYUFpUnArWlN1MUx5RTFJTFFGdkh3eGpsRm1WMXB2NUpmb0t2R1NRdkY5MlcvR0JLSHlMVnM5V0Q5dC9oeEdBCnlLUlBiZjZ1TkFUVWZhY0pMa0JaZWhCUWc0ZUgzVXYrWXRHTFc5QW15NEtybHl1TFVaNUZYT21MUXdkNnVzQmQKY3lZd0V6MDBhcmN5Y2NKNllFSzhxeURiZnN4dnIxYzFYYklGdG5iZktLeFJpVit4TUIzTlJac2ZYMG1tS2JGZQplL1o2T29PdXlGNWsxNVYrUUZ0cDNSS0hZYUdkNFBlVG9TeG50d1o2MWZWM0pDRVppWkV1UFBMOWpscGI3eVAzCi9rRmtwckNxNkNja2VLcTR4T0p4RjhzMGpQU1FCbTE4cTh1RG05WT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBejIxRUN5eWpMYTBrc2JOTU5jOXR3eXVULzlkeUVER3I5dEsybmVmcE1WdFp6WEZBCkxlRGtqa2ZnOGNWNVE3bHZ1OUJlcTE3VHVWazBBQWdSQ0VUWmt2L1k5bzg2ZGRFMGtOc3YzWVVTb2Z2a2pkVGwKejRBTUFUWDFyeTlkbm5YVitPMGFna0NkZENZVHl0djVqTElkcTFvSXVJZVM3SENJcDhXSkNVRTJmUGN3anVaOQp5MUo4M2RnU0ZvemY5YUtESzh5bURzNW5pUE5hMjZMUGVJaVVuWnRHbm1oMCtYVjJ0Vk1LQVZ2d3U3c0llWTV0CnNMY2I5ZEtUcWZib0UvNWJYQUNXOW1nM2ZIY3lwanBXWmNSU3gyamlhbzVHQlRpWnBIbTRJWVdaNGRFTnFlV3gKQjBna1c5M0F3VWRzZThjQ290T0l5Y1YzWmpEQWRwcEJFVFk4MFFJREFRQUJBb0lCQVFDbUczZzhBcGtDUVA5NwpsbnZYTTY5UWRodGs3Q0VadXMxZE1VeXdrMEQ1RjVDSXBzS2dldEpNNWw3Sy9qcW44MTM0NTFxSW5iMnJWallBCk9IVjdTN2Q0c280S2xKUmFPUmlCVUNXNm5aQllTNkd4dXVYMkR6S04zYXBMaWdETW5zeWxOU3JmVitNL1dpYkwKY3ZFYXJLQjUwZlhkNENQV1dCLzNTb2I4OUU0d0wwbnZza1dsVUlWK2dvdUhmUTBYN3Q1TEUySWJGT3BhK0dQQwpsVzNqS3ZPZW4wc0tHcjNmbEcyN08rZ1hmQWN4cndOMlJ6RTRkQXRoOTROVUR5NWJ0RytVd3pSVU51UERwcEZSCndhSnlJUzY2N0xDckpLWWZkYUZoVEdqZW5UdUlPbzBwM3NCR0hwQy93TjJZRHR1OHl5N3NyREdPMG01K3FtcHYKZm5uaXM5NXBBb0dCQVBRekZWNHpKTk5ZN1dqWnNSeGRPOWphU2pZOC9kaVM4dERjRzR4d3hCc05wS2I1blhmZApBRmZ6bVN4alhoWURnWXNDNEh6M1pBZCtJSDY0a2FBWS9DYWJla05LdWpTeEFVNmo0NWZ5R0JaTmM5N2F2SzVYClBJYlhucmhqcDNsR2xzVm9qQ1JMSldlRzc0akpWMFhrOEpnNEQxWFpEZUtKSG1UNWlXbml3TlJiQW9HQkFObHoKUjBTNkRLZVZJV1o0S1NKRkU5dUx5ck9TSWxMc3ZZTi9BQ21KSk5HTkk3ZGFZeGNnekIyRStCbkxIdnRFSVdOSwozUUVnQWROSG5YT3UwZkE3c2VrQXRDeGxtN0NVcERkRFRxekxqZDlLQjdBNExUWk1KVXdLMHlvUkYrRnIwSDUrCnU3WU9VRmRtWVdyY0VGTjhuQlBzYWgrTS9BQnh3Umk0aGNHV0dFdERBb0dBZXgxNkMyajdpdlpOazB3VlovaDEKWU1vRkdqMDd1Y0cwVzZwczFTeFJJbGFKaVlsVlk0WHZVMmhEOUVZUXZFWitQQ2h5SjI3T1pweW5JMXhJUncveApxRUZBcmNaeUJIaXM4UW5kaDlDTlpra2NQdUhHdUpyUXNDYnJKWWxRZU9zbXZsWU1PWXdOU3BtVUVFRjZGNG5wCjVzUjBydEprbHE2TXZWbTFkc1hVYy9zQ2dZRUFxN21xVXRCTEpoMVQzMFNOMTQ2Ti9CZ040SHBMdVFsVk1QK2UKOVM1bGNVZnhLTitzMlpzQkYxN25RQmQxUkNHdDdHZzIyS2lhU0d5S0g4Mno1ZkIrcysvbVdobDBOcU5zZkdnZgpQYjhUTDMrYlNzTlNrVXJaT1pCaTZ4bk1yaTBpM29MZll3c3l6NUwrNUJFZW81QUpBb0wxM0N6TzV0cnZEOExKCmZ2UTJBMWtDZ1lCcHJHMVg4N0JXWFRhOVd4cWUvSHdIKzYrMlFhK0xrYU4ySnhyN2t6VUt6MTU2cnhvd1d1YVEKTTVWOWtpQjgxaWwxMDJPaWxSeFU3c3JITkRRRnBRbXUraXlnMDNYWFAwSUJhaG1pNStTeWhTbjVCVmNTSEw5Qgp0WFkwUWdiOC9iQ09OV3RjMStyMXNrWlpLQUFCN1U3OS9HalhYbGVUbldGK09VR0M1a01xa3c9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: release-name-vault-operator
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
rules:
  - apiGroups:
      - ""
    resources:
      - persistentvolumeclaims
    verbs:
      - create
      - patch
  - apiGroups:
      - apiextensions.k8s.io
    resources:
      - customresourcedefinitions
    verbs:
      - '*'
  - apiGroups:
      - apiregistration.k8s.io
    resources:
      - apiservices
    verbs:
      - delete
      - get
      - patch
  - apiGroups:
      - admissionregistration.k8s.io
    resources:
      - mutatingwebhookconfigurations
      - validatingwebhookconfigurations
    verbs:
      - delete
      - list
      - watch
      - patch
  - apiGroups:
      - kubevault.com
      - catalog.kubevault.com
      - policy.kubevault.com
      - engine.kubevault.com
      - appcatalog.appscode.com
    resources:
      - '*'
    verbs:
      - '*'
  - apiGroups:
      - apps
    resources:
      - deployments
    verbs:
      - create
      - get
      - update
      - patch
  - apiGroups:
      - ""
    resources:
      - configmaps
      - secrets
      - services
      - serviceaccounts
    verbs:
      - create
      - get
      - patch
  - apiGroups:
      - ""
    resources:
      - nodes
    verbs:
      - list
  - apiGroups:
      - ""
    resources:
      - events
    verbs:
      - create
  - apiGroups:
      - monitoring.coreos.com
    resources:
      - servicemonitors
    verbs:
      - '*'
  - apiGroups:
      - ""
    resources:
      - pods
      - pods/exec
    verbs:
      - get
      - create
      - list
  - apiGroups:
      - rbac.authorization.k8s.io
    resources:
      - clusterroles
      - clusterrolebindings
      - roles
      - rolebindings
    verbs:
      - get
      - update
      - create
      - patch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: release-name-vault-operator-apiserver-auth-delegator
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
roleRef:
  kind: ClusterRole
  apiGroup: rbac.authorization.k8s.io
  name: system:auth-delegator
subjects:
  - kind: ServiceAccount
    name: release-name-vault-operator
    namespace: default
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: release-name-vault-operator
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: release-name-vault-operator
subjects:
  - kind: ServiceAccount
    name: release-name-vault-operator
    namespace: default
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: release-name-vault-operator-apiserver-extension-server-authentication-reader
  namespace: kube-system
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
roleRef:
  kind: Role
  apiGroup: rbac.authorization.k8s.io
  name: extension-apiserver-authentication-reader
subjects:
  - kind: ServiceAccount
    name: release-name-vault-operator
    namespace: default
---
apiVersion: v1
kind: Service
metadata:
  name: release-name-vault-operator
  namespace: 6wVWlrk2P
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
spec:
  ports:
    - name: api
      port: 443
      targetPort: 8443
  selector:
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-vault-operator
  namespace: 6wVWlrk2P
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: vault-operator
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app.kubernetes.io/name: vault-operator
        app.kubernetes.io/instance: release-name
      annotations:
        checksum/apiregistration.yaml: 1a0e2dc8b793a0e8ec532f35629f177178bbf19f35a1994496f7768e7024ae73
    spec:
      serviceAccountName: release-name-vault-operator
      containers:
        - name: operator
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                "": NET_RAW
            readOnlyRootFilesystem: true
          image: kubevault/vault-operator:v0.3.0
          imagePullPolicy: IfNotPresent
          args:
            - run
            - --v=3
            - --secure-port=8443
            - --audit-log-path=-
            - --tls-cert-file=/var/serving-cert/tls.crt
            - --tls-private-key-file=/var/serving-cert/tls.key
            - --enable-mutating-webhook=true
            - --enable-validating-webhook=true
            - --bypass-validating-webhook-xray=false
            - --use-kubeapiserver-fqdn-for-aks=true
            - --enable-analytics=true
            - --cluster-name=
          ports:
            - containerPort: 8443
          env:
            - name: MY_POD_NAME
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: MY_POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          resources:
            requests:
              cpu: 100m
            seccompProfile:
              type: RuntimeDefault
          volumeMounts:
            - mountPath: /var/serving-cert
              name: serving-cert
      volumes:
        - name: serving-cert
          secret:
            defaultMode: 420
            secretName: release-name-vault-operator-apiserver-cert
      securityContext:
        fsGroup: 65535
      nodeSelector:
        beta.kubernetes.io/arch: amd64
        beta.kubernetes.io/os: linux
---
apiVersion: apiregistration.k8s.io/v1beta1
kind: APIService
metadata:
  name: v1alpha1.mutators.kubevault.com
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
spec:
  group: mutators.kubevault.com
  version: v1alpha1
  service:
    namespace: default
    name: release-name-vault-operator
  caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCakNDQWU2Z0F3SUJBZ0lSQUo0c0tYaWZzcGE0R1Z2MVE5VUV6UFl3RFFZSktvWklodmNOQVFFTEJRQXcKRFRFTE1Ba0dBMVVFQXhNQ1kyRXdIaGNOTWpJd05qRXlNVFF5TmpBNFdoY05Nekl3TmpBNU1UUXlOakE0V2pBTgpNUXN3Q1FZRFZRUURFd0pqWVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTVFzClRiSndOZGJsbCtLNStmVzZ3aTBEdHQ0Wlh1akxUU2lCZjJHYUhJOGNnSHV4OVY4cmMvY3oyOUVoN1FydVQ3V1kKVnEzYWxZWk5HU09OUDE3aDFwZ1Zsa0s1VVJqcWtobXhLRnhtMEM5T2Nvak8rbGtlSVN2T0dTdWZqZDA0M0dTOQoycjVIQ2tXM2lLazl3Z3p4eDMvUjdxUzl4cnk1WW1HVWF1emFhMjBnWUd1UjNhMnZDRkZxQUI4aTR6d1U3aFFICm5naklPZXM4RjgrbVVwU0NzaFFML2E5T2FCWkFBOTdLRGIzKzFucUY2OGpocStHbElKWkQySkM1Y2diYndMSjAKNWgxMjNmUUwyUHdJb05mRFVuYnFwL0g2QjJ5ZjVMcjllbVpCUVhSUlNObG5uYVpTZGFMblZ6YzZkWmV1M1Y1UAptbVpTL2swVHRzSzI4am42b2xNQ0F3RUFBYU5oTUY4d0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVcKQkJUSTd2VHUxMjcrYU5BSUFjVlo4ZFY1KzdSRnN6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFtOG8zNmY0bwp0T1dvRjRxSC9kRkErVnZMZUJFRWJ3UExkbmVnZis2ZXZWR0lyKzZTbWFYcC9abjZwcU9ERm1pS04vdmM2ZE52CmdZSi80Z2tvZmQwRXNrUWFTekV3Mm1IM21NemRNR2x0U0VUeFhQZER5Sy9CcDQvelFiNTFkb0NCMmc2bG4xNXEKTno0ZFBlSm00d3VvT3BXYkxtRmNpZkVvQStOMiswanUycXJUT04vVlJmZm9oQnlqK3VUWm1BcGN1NTg5a3ZCTgpBODFPTTJVTWwwd2Ntb1ZkaU92OVJxMWVVUGpRMDFqZUxqR3dka1hPYXNLMTJqUGFBeEdRbEFjNXRxbjFVbFRlCnc5K2NLSVozMXF5V2VzNkROcjhMVUx0Q1hONXBWUHNrVXZhc000MzdRR200d3FzdDFyaVc2ZUtNQ0NYZ1lJa0MKK09Sc1pDK0NWRzBFdXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  groupPriorityMinimum: 10000
  versionPriority: 15
---
apiVersion: apiregistration.k8s.io/v1beta1
kind: APIService
metadata:
  name: v1alpha1.validators.kubevault.com
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
spec:
  group: validators.kubevault.com
  version: v1alpha1
  service:
    namespace: default
    name: release-name-vault-operator
  caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCakNDQWU2Z0F3SUJBZ0lSQUo0c0tYaWZzcGE0R1Z2MVE5VUV6UFl3RFFZSktvWklodmNOQVFFTEJRQXcKRFRFTE1Ba0dBMVVFQXhNQ1kyRXdIaGNOTWpJd05qRXlNVFF5TmpBNFdoY05Nekl3TmpBNU1UUXlOakE0V2pBTgpNUXN3Q1FZRFZRUURFd0pqWVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTVFzClRiSndOZGJsbCtLNStmVzZ3aTBEdHQ0Wlh1akxUU2lCZjJHYUhJOGNnSHV4OVY4cmMvY3oyOUVoN1FydVQ3V1kKVnEzYWxZWk5HU09OUDE3aDFwZ1Zsa0s1VVJqcWtobXhLRnhtMEM5T2Nvak8rbGtlSVN2T0dTdWZqZDA0M0dTOQoycjVIQ2tXM2lLazl3Z3p4eDMvUjdxUzl4cnk1WW1HVWF1emFhMjBnWUd1UjNhMnZDRkZxQUI4aTR6d1U3aFFICm5naklPZXM4RjgrbVVwU0NzaFFML2E5T2FCWkFBOTdLRGIzKzFucUY2OGpocStHbElKWkQySkM1Y2diYndMSjAKNWgxMjNmUUwyUHdJb05mRFVuYnFwL0g2QjJ5ZjVMcjllbVpCUVhSUlNObG5uYVpTZGFMblZ6YzZkWmV1M1Y1UAptbVpTL2swVHRzSzI4am42b2xNQ0F3RUFBYU5oTUY4d0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVcKQkJUSTd2VHUxMjcrYU5BSUFjVlo4ZFY1KzdSRnN6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFtOG8zNmY0bwp0T1dvRjRxSC9kRkErVnZMZUJFRWJ3UExkbmVnZis2ZXZWR0lyKzZTbWFYcC9abjZwcU9ERm1pS04vdmM2ZE52CmdZSi80Z2tvZmQwRXNrUWFTekV3Mm1IM21NemRNR2x0U0VUeFhQZER5Sy9CcDQvelFiNTFkb0NCMmc2bG4xNXEKTno0ZFBlSm00d3VvT3BXYkxtRmNpZkVvQStOMiswanUycXJUT04vVlJmZm9oQnlqK3VUWm1BcGN1NTg5a3ZCTgpBODFPTTJVTWwwd2Ntb1ZkaU92OVJxMWVVUGpRMDFqZUxqR3dka1hPYXNLMTJqUGFBeEdRbEFjNXRxbjFVbFRlCnc5K2NLSVozMXF5V2VzNkROcjhMVUx0Q1hONXBWUHNrVXZhc000MzdRR200d3FzdDFyaVc2ZUtNQ0NYZ1lJa0MKK09Sc1pDK0NWRzBFdXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  groupPriorityMinimum: 10000
  versionPriority: 15
---
apiVersion: apiregistration.k8s.io/v1beta1
kind: APIService
metadata:
  name: v1alpha1.validators.engine.kubevault.com
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
spec:
  group: validators.engine.kubevault.com
  version: v1alpha1
  service:
    namespace: default
    name: release-name-vault-operator
  caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCakNDQWU2Z0F3SUJBZ0lSQUo0c0tYaWZzcGE0R1Z2MVE5VUV6UFl3RFFZSktvWklodmNOQVFFTEJRQXcKRFRFTE1Ba0dBMVVFQXhNQ1kyRXdIaGNOTWpJd05qRXlNVFF5TmpBNFdoY05Nekl3TmpBNU1UUXlOakE0V2pBTgpNUXN3Q1FZRFZRUURFd0pqWVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTVFzClRiSndOZGJsbCtLNStmVzZ3aTBEdHQ0Wlh1akxUU2lCZjJHYUhJOGNnSHV4OVY4cmMvY3oyOUVoN1FydVQ3V1kKVnEzYWxZWk5HU09OUDE3aDFwZ1Zsa0s1VVJqcWtobXhLRnhtMEM5T2Nvak8rbGtlSVN2T0dTdWZqZDA0M0dTOQoycjVIQ2tXM2lLazl3Z3p4eDMvUjdxUzl4cnk1WW1HVWF1emFhMjBnWUd1UjNhMnZDRkZxQUI4aTR6d1U3aFFICm5naklPZXM4RjgrbVVwU0NzaFFML2E5T2FCWkFBOTdLRGIzKzFucUY2OGpocStHbElKWkQySkM1Y2diYndMSjAKNWgxMjNmUUwyUHdJb05mRFVuYnFwL0g2QjJ5ZjVMcjllbVpCUVhSUlNObG5uYVpTZGFMblZ6YzZkWmV1M1Y1UAptbVpTL2swVHRzSzI4am42b2xNQ0F3RUFBYU5oTUY4d0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXCk1CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjBHQTFVZERnUVcKQkJUSTd2VHUxMjcrYU5BSUFjVlo4ZFY1KzdSRnN6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFtOG8zNmY0bwp0T1dvRjRxSC9kRkErVnZMZUJFRWJ3UExkbmVnZis2ZXZWR0lyKzZTbWFYcC9abjZwcU9ERm1pS04vdmM2ZE52CmdZSi80Z2tvZmQwRXNrUWFTekV3Mm1IM21NemRNR2x0U0VUeFhQZER5Sy9CcDQvelFiNTFkb0NCMmc2bG4xNXEKTno0ZFBlSm00d3VvT3BXYkxtRmNpZkVvQStOMiswanUycXJUT04vVlJmZm9oQnlqK3VUWm1BcGN1NTg5a3ZCTgpBODFPTTJVTWwwd2Ntb1ZkaU92OVJxMWVVUGpRMDFqZUxqR3dka1hPYXNLMTJqUGFBeEdRbEFjNXRxbjFVbFRlCnc5K2NLSVozMXF5V2VzNkROcjhMVUx0Q1hONXBWUHNrVXZhc000MzdRR200d3FzdDFyaVc2ZUtNQ0NYZ1lJa0MKK09Sc1pDK0NWRzBFdXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  groupPriorityMinimum: 10000
  versionPriority: 15
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: appscode:appcatalog:admin
  labels:
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
    rbac.authorization.k8s.io/aggregate-to-edit: "true"
  annotations:
    helm.sh/hook: pre-install,pre-upgrade
    helm.sh/hook-delete-policy: before-hook-creation
rules:
  - apiGroups:
      - appcatalog.appscode.com
    resources:
      - '*'
    verbs:
      - '*'
---
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: appscode:appcatalog:view
  labels:
    rbac.authorization.k8s.io/aggregate-to-view: "true"
  annotations:
    helm.sh/hook: pre-install,pre-upgrade
    helm.sh/hook-delete-policy: before-hook-creation
rules:
  - apiGroups:
      - appcatalog.appscode.com
    resources:
      - '*'
    verbs:
      - get
      - list
      - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: kubevault:core:admin
  labels:
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
  annotations:
    helm.sh/hook: pre-install,pre-upgrade
    helm.sh/hook-delete-policy: before-hook-creation
rules:
  - apiGroups:
      - kubevault.com
      - catalog.kubevault.com
      - policy.kubevault.com
      - appcatalog.appscode.com
      - engine.kubevault.com
    resources:
      - '*'
    verbs:
      - '*'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: kubevault:core:edit
  labels:
    rbac.authorization.k8s.io/aggregate-to-edit: "true"
  annotations:
    helm.sh/hook: pre-install,pre-upgrade
    helm.sh/hook-delete-policy: before-hook-creation
rules:
  - apiGroups:
      - kubevault.com
    resources:
      - vaultservers
    verbs:
      - '*'
  - apiGroups:
      - policy.kubevault.com
    resources:
      - vaultpolicies
      - vaultpolicybindings
    verbs:
      - '*'
  - apiGroups:
      - engine.kubevault.com
    resources:
      - secretengines
      - databaseaccessrequests
      - mongodbroles
      - mysqlroles
      - postgresroles
      - awsroles
      - awsaccesskeyrequests
      - gcproles
      - gcpaccesskeyrequests
      - azureroles
      - azureaccesskeyrequests
    verbs:
      - '*'
  - apiGroups:
      - appcatalog.appscode.com
    resources:
      - appbindings
    verbs:
      - '*'
  - apiGroups:
      - catalog.kubevault.com
    resources:
      - vaultserverversions
    verbs:
      - get
      - list
      - watch
---
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: kubevault:core:view
  labels:
    rbac.authorization.k8s.io/aggregate-to-view: "true"
  annotations:
    helm.sh/hook: pre-install,pre-upgrade
    helm.sh/hook-delete-policy: before-hook-creation
rules:
  - apiGroups:
      - kubevault.com
    resources:
      - vaultservers
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - policy.kubevault.com
    resources:
      - vaultpolicies
      - vaultpolicybindings
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - engine.kubevault.com
    resources:
      - secretengines
      - databaseaccessrequests
      - mongodbroles
      - mysqlroles
      - postgresroles
      - awsroles
      - awsaccesskeyrequests
      - gcproles
      - gcpaccesskeyrequests
      - azureroles
      - azureaccesskeyrequests
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - appcatalog.appscode.com
    resources:
      - appbindings
    verbs:
      - get
      - list
      - watch
  - apiGroups:
      - catalog.kubevault.com
    resources:
      - vaultserverversions
    verbs:
      - get
      - list
      - watch
---
apiVersion: batch/v1
kind: Job
metadata:
  name: release-name-vault-operator-cleaner
  namespace: 6wVWlrk2P
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
  annotations:
    helm.sh/hook: pre-delete
    helm.sh/hook-delete-policy: hook-succeeded,hook-failed
spec:
  backoffLimit: 3
  activeDeadlineSeconds: 120
  template:
    spec:
      serviceAccountName: release-name-vault-operator
      containers:
        - name: kubectl
          image: appscode/kubectl:v1.16
          command:
            - sh
            - -c
            - sleep 2; kubectl delete validatingwebhookconfigurations validators.kubevault.com || true; kubectl delete validatingwebhookconfigurations validators.engine.kubevault.com || true; kubectl delete mutatingwebhookconfiguration mutators.kubevault.com || true; kubectl delete apiservice v1alpha1.mutators.kubevault.com || true; kubectl delete apiservice v1alpha1.validators.engine.kubevault.com || true; kubectl delete apiservice v1alpha1.validators.kubevault.com || true;
          imagePullPolicy: IfNotPresent
      restartPolicy: Never
---
apiVersion: admissionregistration.k8s.io/v1beta1
kind: MutatingWebhookConfiguration
metadata:
  name: mutators.kubevault.com
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
  annotations:
    helm.sh/hook: pre-install,pre-upgrade
    helm.sh/hook-delete-policy: before-hook-creation
webhooks:
  - name: vaultpolicybindings.mutators.kubevault.com
    clientConfig:
      service:
        namespace: default
        name: kubernetes
        path: /apis/mutators.kubevault.com/v1alpha1/vaultpolicybindingmutators
      caBundle: bm90LWNhLWNlcnQ=
    rules:
      - operations:
          - CREATE
          - UPDATE
        apiGroups:
          - policy.kubevault.com
        apiVersions:
          - '*'
        resources:
          - vaultpolicybindings
    failurePolicy: Fail
    sideEffects: None
  - name: vaultservers.mutators.kubevault.com
    clientConfig:
      service:
        namespace: default
        name: kubernetes
        path: /apis/mutators.kubevault.com/v1alpha1/vaultservermutators
      caBundle: bm90LWNhLWNlcnQ=
    rules:
      - operations:
          - CREATE
          - UPDATE
        apiGroups:
          - kubevault.com
        apiVersions:
          - '*'
        resources:
          - vaultservers
    failurePolicy: Fail
    sideEffects: None
---
apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: validators.kubevault.com
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
  annotations:
    helm.sh/hook: pre-install,pre-upgrade
    helm.sh/hook-delete-policy: before-hook-creation
webhooks:
  - name: vaultservers.validators.kubevault.com
    clientConfig:
      service:
        namespace: default
        name: kubernetes
        path: /apis/validators.kubevault.com/v1alpha1/vaultservervalidators
      caBundle: bm90LWNhLWNlcnQ=
    rules:
      - operations:
          - CREATE
          - UPDATE
        apiGroups:
          - kubevault.com
        apiVersions:
          - '*'
        resources:
          - vaultservers
    failurePolicy: Fail
    sideEffects: None
---
apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: validators.engine.kubevault.com
  labels:
    helm.sh/chart: vault-operator-v0.3.0
    app.kubernetes.io/name: vault-operator
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: v0.3.0
    app.kubernetes.io/managed-by: Helm
  annotations:
    helm.sh/hook: pre-install,pre-upgrade
    helm.sh/hook-delete-policy: before-hook-creation
webhooks:
  - name: databaseaccessrequests.validators.engine.kubevault.com
    clientConfig:
      service:
        namespace: default
        name: kubernetes
        path: /apis/validators.engine.kubevault.com/v1alpha1/databaseaccessrequestvalidators
      caBundle: bm90LWNhLWNlcnQ=
    rules:
      - operations:
          - CREATE
          - UPDATE
        apiGroups:
          - engine.kubevault.com
        apiVersions:
          - '*'
        resources:
          - databaseaccessrequests
    failurePolicy: Fail
    sideEffects: None
  - name: awsaccesskeyrequests.validators.engine.kubevault.com
    clientConfig:
      service:
        namespace: default
        name: kubernetes
        path: /apis/validators.engine.kubevault.com/v1alpha1/awsaccesskeyrequestvalidators
      caBundle: bm90LWNhLWNlcnQ=
    rules:
      - operations:
          - CREATE
          - UPDATE
        apiGroups:
          - engine.kubevault.com
        apiVersions:
          - '*'
        resources:
          - awsaccesskeyrequests
    failurePolicy: Fail
    sideEffects: None
  - name: gcpaccesskeyrequests.validators.engine.kubevault.com
    clientConfig:
      service:
        namespace: default
        name: kubernetes
        path: /apis/validators.engine.kubevault.com/v1alpha1/gcpaccesskeyrequestvalidators
      caBundle: bm90LWNhLWNlcnQ=
    rules:
      - operations:
          - CREATE
          - UPDATE
        apiGroups:
          - engine.kubevault.com
        apiVersions:
          - '*'
        resources:
          - gcpaccesskeyrequests
    failurePolicy: Fail
    sideEffects: None
  - name: azureaccesskeyrequests.validators.engine.kubevault.com
    clientConfig:
      service:
        namespace: default
        name: kubernetes
        path: /apis/validators.engine.kubevault.com/v1alpha1/azureaccesskeyrequestvalidators
      caBundle: bm90LWNhLWNlcnQ=
    rules:
      - operations:
          - CREATE
          - UPDATE
        apiGroups:
          - engine.kubevault.com
        apiVersions:
          - '*'
        resources:
          - azureaccesskeyrequests
    failurePolicy: Fail
    sideEffects: None
