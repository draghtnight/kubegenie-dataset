apiVersion: v1
kind: ServiceAccount
metadata:
  name: release-name-aws-sigv4-proxy-admission-controller
  namespace: KQE5RWTdTX7zptV
  labels:
    helm.sh/chart: aws-sigv4-proxy-admission-controller-0.1.2
    app.kubernetes.io/version: "1"
    app.kubernetes.io/managed-by: Helm
---
apiVersion: v1
kind: Secret
metadata:
  name: release-name-aws-sigv4-proxy-admission-controller-webhook-certs
  namespace: KQE5RWTdTX7zptV
  labels:
    helm.sh/chart: aws-sigv4-proxy-admission-controller-0.1.2
    app.kubernetes.io/version: "1"
    app.kubernetes.io/managed-by: Helm
type: Opaque
data:
  cert.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVCVENDQXUyZ0F3SUJBZ0lSQU8zTlF2dTFhaENVclNKMFozZWIwKzB3RFFZSktvWklodmNOQVFFTEJRQXcKTWpFd01DNEdBMVVFQXhNbllYZHpMWE5wWjNZMExYQnliM2g1TFdGa2JXbHpjMmx2YmkxamIyNTBjbTlzYkdWeQpMV05oTUI0WERUSXlNRFl4TWpBNU5EY3dNMW9YRFRNeU1EWXdPVEE1TkRjd00xb3dQREU2TURnR0ExVUVBeE14CmNtVnNaV0Z6WlMxdVlXMWxMV0YzY3kxemFXZDJOQzF3Y205NGVTMWhaRzFwYzNOcGIyNHRZMjl1ZEhKdmJHeGwKY2pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTmZvNUVyd3pHdXRqREphTHJyawpFV0hSNWN1WHExWmxwTmxUNUJud2x6Mk1ZNXQrT001eStUaXkwRlpDWDBMRGhpcmFGMkpWaUdkSXk2KzJ2OThTClY1WkpkKytVSzN5SllVTmh1UnEyUjNsNGpha1hTSVh5QVJ0V09PY0pBK05BR1gvWThuL3AzSGlESmZ5VTJUYU8KelNFWHRJYS95YkovLzZ1dXkvVTA1RHF6Wnd4YXVkUjFCdXU2Y0lFWk4zdlhhZnZjSkNZY1VqZ3F2TDJXTTFGTwpvU0xUUjlWOVJqQm9uV08zZ25pTzk5cUJuV2pLTGEwTmFrRXVyczRvTGFYQVhWZWJNSnQ5aDQ2Tlk5ck01bWp6CkRZZkF4c0xCc2l3bzNUdkx3clpkUlRUZzJWejBMRTcraXVFa0pHcUJqZzZBWW5jd0dxYzg3cE1zSDVCUm0rVzQKazFFQ0F3RUFBYU9DQVFvd2dnRUdNQTRHQTFVZER3RUIvd1FFQXdJRm9EQWRCZ05WSFNVRUZqQVVCZ2dyQmdFRgpCUWNEQVFZSUt3WUJCUVVIQXdJd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JSclVwUURpWExDCjIweDFVazlKWnBmMDVYbGtEekNCcFFZRFZSMFJCSUdkTUlHYWdrbHlaV3hsWVhObExXNWhiV1V0WVhkekxYTnAKWjNZMExYQnliM2g1TFdGa2JXbHpjMmx2YmkxamIyNTBjbTlzYkdWeUxYZGxZbWh2YjJzdGMyVnlkbWxqWlM1awpaV1poZFd4MGdrMXlaV3hsWVhObExXNWhiV1V0WVhkekxYTnBaM1kwTFhCeWIzaDVMV0ZrYldsemMybHZiaTFqCmIyNTBjbTlzYkdWeUxYZGxZbWh2YjJzdGMyVnlkbWxqWlM1a1pXWmhkV3gwTG5OMll6QU5CZ2txaGtpRzl3MEIKQVFzRkFBT0NBUUVBNnZ4RWhUcmlFOWFuVVVUbUsrRHVRNFVieEJPZHJYRmo4QVRuSitVK2drSXp0SVcwL01oMQpaVFd3RTVQY3BwWVNxK1RDOUdOalFOdGlFMXVaVHM0OVR5WmwzSUZaUXc5S2ROenVwUTBwOVYwUVJYOTdBV051CjFTRGk0TTJMZFZhbWx0NmwxUXZWNXdXc2dkVitVQnY5YWYyU0RLOUZDYkJRUEhDcWpwbDl2YzZkVlhpZCt1SUUKdCs2NndQeFhrMk10Tzh5QlJHZ1M5L0o0Wi9LYjhrZG5lSldrZmpDT2NjcE5kcUo2SC93WWh2dTluVWxYYktiYQpwS2J1RWJOd25ac25EZHVKa1YrcWR3dVA5TmU1dEVKYWlDZHpoV3RaSTR6UGlKQi9HN0FGeVZTUnl6OGFyTERkCkhkVHlJYTlDT25IRnpkUllnNmhEMDZaTmRncWNaNHcvbWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  key.pem: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb2dJQkFBS0NBUUVBMStqa1N2RE1hNjJNTWxvdXV1UVJZZEhseTVlclZtV2syVlBrR2ZDWFBZeGptMzQ0CnpuTDVPTExRVmtKZlFzT0dLdG9YWWxXSVowakxyN2EvM3hKWGxrbDM3NVFyZklsaFEyRzVHclpIZVhpTnFSZEkKaGZJQkcxWTQ1d2tENDBBWmY5anlmK25jZUlNbC9KVFpObzdOSVJlMGhyL0pzbi8vcTY3TDlUVGtPck5uREZxNQoxSFVHNjdwd2dSazNlOWRwKzl3a0poeFNPQ3E4dlpZelVVNmhJdE5IMVgxR01HaWRZN2VDZUk3MzJvR2RhTW90CnJRMXFRUzZ1emlndHBjQmRWNXN3bTMySGpvMWoyc3ptYVBNTmg4REd3c0d5TENqZE84dkN0bDFGTk9EWlhQUXMKVHY2SzRTUWthb0dPRG9CaWR6QWFwenp1a3l3ZmtGR2I1YmlUVVFJREFRQUJBb0lCQUVqSnZOeiszUXVZRUdHUgpRWnZEODVBMHdQR29DaDB3V3lqaFBVNzVheU5XeHVYTzRidkh5dmt3WDBnVlRDUW40bjFqMU9wVHg0NTZYaUM0CnpXcVl0bXAyRGpiNGpzaUhVQUQxV3dBRVg0ZzEraHY5TzNmY3BEN2hESUhtNmlhY24zd1lXWGlDRU0rWDl5QjEKMWR5c3U3N2lUUHY0Z0RqcktmaHBEMTExSFZRa05DakxydEFuMjNqNm8zRUtDelV0ZWtaZFNCQjBFbWY3UWdYZQp0YzVqQjF0bEM3VnZqc2NaZjJXRk5YdmZFUVgrNyttUWxNVWR2ZlpWT3JYL0NPNys2Z3BvVEx2ZFJWS1VLdEJtCjBkV3VyYVpCaHRzNlhOaFViL2tFQzI5MVNUVVI1Q3NiZTFtcW1mUWNlYzBrdUNjaGlURDZIY056ejlzZ0RiQVIKZzFHRVBma0NnWUVBMmR4STlmMXN4eUFyVmQ4UFRORjBvQ01TcVd4WU1TVExkbFZWT2p2L2JEckRwKzR0d0tvZwpmemdrZjJ6eURwMjcvQ2JVb0lhU2J5dTNSWGNMcGt5TUV1NUpmcElVemhXazdWZTg1OTQ2aXJrbzVDSVc1VnJ3ClIyMEpnaU4ydVdROSt6eVZHMDNHQkw1bTkwaE5PdjBWWVhDSkdZMUwyVDcwbzgwbXBydkFRUDhDZ1lFQS9iVXUKVjd5SmNtdUduaG5tTGhCUnNVN0ZBSHpGZHB2MlFIQkRidUs4RkdsN1J1TkRnOThnWkhHOHZISWFtRTF2TVdwZQpVTnNYSXMxL2puazU0UWZHQ3BOZ0hwU2REMmIwVDg0bVNPQ1l1WENXUyt1UzNGdmF3Rloydno5Q0h2YkVkSWtUCkFVZVpsSExrVVZYYVFhU2s2VkEydUJZQjBwL0ppYlluUjdoTzI2OENnWUFXUDhYL3dVcnJweUJsMjZydldIREYKcmU5SStEU2xpREZ6TzFIQjZjQ3pKK2sxYkVDbDdYbjJKQ0N1RnMwOXF1UTQ0eXBSM294ejZBNEdmUnJtZCtqUwpRaDJsWEh2ZGRCNXMwc29MRUFvQWd0cG5PZ2dHa2x2NW4yd2FLMDhEcmZZYWcxeGk5blZqcEtKVlhML3VaMHhZCnNDcUFQb3JoZStsMkZReCtlS3d3dHdLQmdIVUswcmhUR0MyYkFWMktvUy83QTFVQys4cy94SEQxZm1NMzUwUU8KZ2FvQkI0Z3FiQWs0TkY5aVFTbkdraEpWRnNqN1EwdVY1MVI4N1MyekswcHZKYVBYWFc1K0xQN2dCakdTN3dLTAo2cWtTRWFRd3AyM1ZTbE9WRCs4bXBjQlhJMGFIdmliRyswa0t2OTN0OTJSMUtrY2daRDRFbVE2ci9IUDFmcVdOCmw0T3RBb0dBUHRseWZhVU9MM042cUN1aE80ODVnV1dnZktoamlYYmYxOHROQkVidHUrZFhIeU9nSWRTdXZKSjQKTGV2aXZTQ29xcWV1K0IwMCs1VnI2ZUk3S1gwVUJKU1g4S0NVOEkvUitSTCtrNDRTSXVKKzZHTjkydzlQeFNGQgoxb0QwVUlsbXdWaFJ4dUhkL0xUbEtqOUNDR0IvTDF4d2RVeCtJZkFRS2tJRUhxMjhySXM9Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: release-name-aws-sigv4-proxy-admission-controller-role
  namespace: default
  labels:
    helm.sh/chart: aws-sigv4-proxy-admission-controller-0.1.2
    app.kubernetes.io/version: "1"
    app.kubernetes.io/managed-by: Helm
rules:
  - apiGroups:
      - ""
    resources:
      - namespaces
    verbs:
      - get
      - list
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: release-name-aws-sigv4-proxy-admission-controller-rolebinding
  namespace: default
  labels:
    helm.sh/chart: aws-sigv4-proxy-admission-controller-0.1.2
    app.kubernetes.io/version: "1"
    app.kubernetes.io/managed-by: Helm
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: release-name-aws-sigv4-proxy-admission-controller-role
subjects:
  - kind: ServiceAccount
    name: release-name-aws-sigv4-proxy-admission-controller
    namespace: default
---
apiVersion: v1
kind: Service
metadata:
  name: release-name-aws-sigv4-proxy-admission-controller-webhook-service
  namespace: KQE5RWTdTX7zptV
  labels:
    app: release-name-aws-sigv4-proxy-admission-controller
    helm.sh/chart: aws-sigv4-proxy-admission-controller-0.1.2
    app.kubernetes.io/version: "1"
    app.kubernetes.io/managed-by: Helm
spec:
  ports:
    - port: 443
      targetPort: 443
  selector:
    app: release-name-aws-sigv4-proxy-admission-controller
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-aws-sigv4-proxy-admission-controller-webhook-deployment
  namespace: KQE5RWTdTX7zptV
  labels:
    app: release-name-aws-sigv4-proxy-admission-controller
    helm.sh/chart: aws-sigv4-proxy-admission-controller-0.1.2
    app.kubernetes.io/version: "1"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app: release-name-aws-sigv4-proxy-admission-controller
  template:
    metadata:
      labels:
        app: release-name-aws-sigv4-proxy-admission-controller
    spec:
      serviceAccountName: release-name-aws-sigv4-proxy-admission-controller
      containers:
        - name: release-name-aws-sigv4-proxy-admission-controller
          image: public.ecr.aws/aws-observability/aws-sigv4-proxy-admission-controller:1.0
          imagePullPolicy: IfNotPresent
          args:
            - -tlsCertFile=/etc/webhook/certs/cert.pem
            - -tlsKeyFile=/etc/webhook/certs/key.pem
          ports:
            - containerPort: 443
          volumeMounts:
            - name: webhook-certs
              mountPath: /etc/webhook/certs
              readOnly: true
          env:
            - name: AWS-SIGV4-PROXY-IMAGE
              value: public.ecr.aws/aws-observability/aws-sigv4-proxy:1.0
      volumes:
        - name: webhook-certs
          secret:
            secretName: release-name-aws-sigv4-proxy-admission-controller-webhook-certs
---
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: release-name-aws-sigv4-proxy-admission-controller-webhook-config
  labels:
    app: release-name-aws-sigv4-proxy-admission-controller
    helm.sh/chart: aws-sigv4-proxy-admission-controller-0.1.2
    app.kubernetes.io/version: "1"
    app.kubernetes.io/managed-by: Helm
webhooks:
  - name: release-name-aws-sigv4-proxy-admission-controller.k8s.aws
    clientConfig:
      service:
        name: release-name-aws-sigv4-proxy-admission-controller-webhook-service
        namespace: default
        path: /mutate
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURVRENDQWppZ0F3SUJBZ0lSQUppZUVUTm5QeCtlYkZSMkEzRUs2NXN3RFFZSktvWklodmNOQVFFTEJRQXcKTWpFd01DNEdBMVVFQXhNbllYZHpMWE5wWjNZMExYQnliM2g1TFdGa2JXbHpjMmx2YmkxamIyNTBjbTlzYkdWeQpMV05oTUI0WERUSXlNRFl4TWpBNU5EY3dNMW9YRFRNeU1EWXdPVEE1TkRjd00xb3dNakV3TUM0R0ExVUVBeE1uCllYZHpMWE5wWjNZMExYQnliM2g1TFdGa2JXbHpjMmx2YmkxamIyNTBjbTlzYkdWeUxXTmhNSUlCSWpBTkJna3EKaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUE3cVZDOVF5S2syNGZuT3dDNm9WTmxHbWFYVjNuQjNTLwptV0FzYk1WWjdWck03a283TU1Fc2x4TkRZK2hXaVpJazcySGR5S3BYbmhSWlVQa1BZMzUvQitoNGEweTJOMUltCmk5T0p3dThQdFhTV1F5V0dyb1RYOFp4U2dnMDFTMGpYYmQ0UUllS0NFdmp3MUdUY1M5R1JCOHAzUHhYenZ6Q04KK2phS3NkcHFQWmFKemI5THI5MWE2ZUZ3dW8vbnNYbmN4VTRIdGhoUXBWSSszUTlnMjQyd1FqOWYxSU9RcW5IcApPc0xNdjRjWDhNaFc2VWRUenAyQ0IyZkMycmVnOU5WTTJ6ci94WXlPd0NTbE4xQWZRKzJ1M29EUVBRVjUvVU95CmorQTBPRzhEb0NKY0dYUE4rcHUwM2RKeUIxbjlFZ2QwTTVlVWVGMHMzWitPZytQWjNObVh6UUlEQVFBQm8yRXcKWHpBT0JnTlZIUThCQWY4RUJBTUNBcVF3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQwpNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUVGR3RTbEFPSmNzTGJUSFZTVDBsbWwvVGxlV1FQCk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQTJ2TGVhTVlDU0VsQjVic3Q2Z3ZHL0o4cVBKVkJUK3NwdTVseEMKZFFPdXVlWHhwRzU1WGhmaEpjS3FQM01WMFBEYThDdjhyajdVaVlhR2R1ek1aM2krRTU1TFYveGZuVVo5VWlPaApDblR1NFJpOFY0UkZxQktBZ2xObFkzWnRmYzFoaWxvb2drRkI1c1pxV09uRjBOMnAyR2lvYTVIbUlXU1dpUTB6Cm5udHRPb2hpakVyb0lQdXpvWXVVUW0yQitRdHVRL204eTVENnp0aFBsV3RleUZLR25ibDYyT3VjMEdjdm95ZkwKc2dGYVAvVy9YOVMrMjE0MUk0QjZIVUIzUm1YUXRwcXJadWxKT3U4U0pDYWhEVzUvc1pRQXhGU3pUVERVZ1pRawpsUUMrSTNxZFVucmt4UktoRWFKb3FBdVFQZ085enVvMmE2MXBnRXZTTXg0WmlzVDMKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    rules:
      - operations:
          - CREATE
        apiGroups:
          - apps
          - ""
        apiVersions:
          - v1
        resources:
          - pods
    sideEffects: None
    admissionReviewVersions:
      - v1beta1
