[
  {
    "apiVersion": "v1",
    "kind": "ServiceAccount",
    "metadata": {
      "name": "release-name-kubeci-engine",
      "namespace": "Osup42Y4a",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    }
  },
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "release-name-kubeci-engine-apiserver-cert",
      "namespace": "Osup42Y4a",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    },
    "type": "Opaque",
    "data": {
      "tls.crt": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURkVENDQWwyZ0F3SUJBZ0lRSm9tTy9aTnBIclUvQUE2aU8velMzREFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWVGdzB5TWpBMk1USXhNVFU1TXpKYUZ3MHpNakEyTURreE1UVTVNekphTUNVeApJekFoQmdOVkJBTVRHbkpsYkdWaGMyVXRibUZ0WlMxcmRXSmxZMmt0Wlc1bmFXNWxNSUlCSWpBTkJna3Foa2lHCjl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF5WnpxTG84VS9wcjArNXhHRXJ6Qmorem14anVTWUhqWUNHTm0Ka1dYZ1EwWFUyMVYzVExUekM5WnpZNkVZdlcyS213WGI1VldNQjhmNHNyM3JKWUt3NlErUktpcG8yMW9hUmZkdwpKbnErTHd3ZUMyL00vamtZMVpaaEIzd1Bhc3dxdjlISHVya00vdnBkTlBuR3BYZzJEaUp3ajk2ZkI0R1RqNmF4CmpydEI2TlFBSGg1dkdvdTJBelozUE1sWVJBUWlSQWtUUVh3eGt5Sjh4ZGhwRWNKUVNtcmJrUGN3OTZVMjZkU0QKWlBsa2dPdHF6UmpqVVk5RVRzYXhXMHJEWDJ6N0JyQVQ1TkR3ZGdLNjdZMzA0bStBS3kvN1A4UXhVa01UdlZPWQpON0hadlhyOUxRVWY2THIxR2g1UUdhd3hDNW5PSUxQRlJRcjNNN0QwdmVjaFJyT0Y0UUlEQVFBQm80RzRNSUcxCk1BNEdBMVVkRHdFQi93UUVBd0lGb0RBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXcKREFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlN0Q2NPck91anNGdWY3UktYYXdhaDVnbUYzTkRCVgpCZ05WSFJFRVRqQk1naUp5Wld4bFlYTmxMVzVoYldVdGEzVmlaV05wTFdWdVoybHVaUzVrWldaaGRXeDBnaVp5ClpXeGxZWE5sTFc1aGJXVXRhM1ZpWldOcExXVnVaMmx1WlM1a1pXWmhkV3gwTG5OMll6QU5CZ2txaGtpRzl3MEIKQVFzRkFBT0NBUUVBVVNRblg4Z3hTK3BXNURiRjV1b1pDVXVwQitUcWpMWW5PMkg0OUJUQktuTWRMd1MxUHRCcwpaaitXdDFXZ1JjQnNoZmFMV1hnSlJFNkxpQ005c2VPd2xjczdNTFpjMzdoYjA5cHZOUzNsUng5RHo2Mm9BTDNVCkhoUXowemVORlE5YXlZa3VkQXkyc1VIK1B2Q00zTGhrN1A0QW5zWnYxUGdZdXY1RzROdEpOOWI3cnFZSnFCaFAKSVVTcHdpZGVYN2FRVkRGUG9vK3paRFJhWDByVHBLQXBnYjZHL2NEOUJldHVmbTA0VnZmSDFyQzF3NHNyWWpBQwo5cXcwRG42QWdOVm1XTEp4RzVNaUU5KzA1dlBiNmdjUTlyajkxQ3ZkNkdnTXFJTVh6NUNGVFhOWFVwMDRsQ05FCmw5ZWZSc2NMaHMwVkt2ejR3QlZPUUNiODFCYjdrK2ZMcnc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==",
      "tls.key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBeVp6cUxvOFUvcHIwKzV4R0VyekJqK3pteGp1U1lIallDR05ta1dYZ1EwWFUyMVYzClRMVHpDOVp6WTZFWXZXMkttd1hiNVZXTUI4ZjRzcjNySllLdzZRK1JLaXBvMjFvYVJmZHdKbnErTHd3ZUMyL00KL2prWTFaWmhCM3dQYXN3cXY5SEh1cmtNL3ZwZE5QbkdwWGcyRGlKd2o5NmZCNEdUajZheGpydEI2TlFBSGg1dgpHb3UyQXpaM1BNbFlSQVFpUkFrVFFYd3hreUo4eGRocEVjSlFTbXJia1Bjdzk2VTI2ZFNEWlBsa2dPdHF6UmpqClVZOUVUc2F4VzByRFgyejdCckFUNU5Ed2RnSzY3WTMwNG0rQUt5LzdQOFF4VWtNVHZWT1lON0hadlhyOUxRVWYKNkxyMUdoNVFHYXd4QzVuT0lMUEZSUXIzTTdEMHZlY2hSck9GNFFJREFRQUJBb0lCQVFDeGt4YWtXWHZaWUt4awpMTmwvU1dlSEY5YVBSUXNCRTQ3Ym5JbExpUnFFeGkzYjNhUU5HTmQxVnJZZFMxZmFDSEJyYURhdEFMTXNhMUkrClJJNm5aRHZqbXNWMkNSS0FHUlZKQ001cjVmSTZ5QVp5ZGs5c251ZWp3Q2JJQzlvY2E2VS9mRXJaeUlHTTF3RmYKVnB4RFErVUFnQTc2ZU05RE1qckE3TVk0KysvcVc3ZEpIbndOQlFOQjZSSzhBcjVaODF2djhTRGY4QzVQT3pkRgpaRUkwbmluaGVRWGF2NWlzR3Q5TVBrNm5VMU1DRjZWRHlOYkJETDZISVJhUnZ6bm5VMXFtdnZHOS9QOTBDay9aCksxZTIvckNmcHNxWEh6bmUvRXovaXdEelFQTzRsRDh1Qk0yQW5RZTZZZWU4MmJHWlBYTk13UHZoWU1yN0E4NHAKWFV6U2JNVHRBb0dCQU4yN1FXc3FHM2p6eG4xWFUyZGpOaE95clpSNC9DcUk5VU5waldDUFFVdVdTdEg0eHM3UQpmUkg4SXR3QnlaMVpoTnJqSGV0VTlrU3BlZEZwdmcrVHV2Qjlla0pxcFBsbkZpSm95NkJhTFN3WUczcmJVTWhNCmQ0NFFLam02NjQ4S095NXpTeFZET3BFY01TRlhmREozSjBjS3RuU09CRk5tU2x5WWNLSGhMSE5YQW9HQkFPakYKclBMSmRHa2MvVDJTMjNGTWNXa3FBMnJmMHNtV1FNTW9LcC9PRm0wT1JEUUhnbUFXYTlhQkhCeUdqajd2cjRMdgpjcjNjeUlzYzVtSkZPc2Z5SFZCOUJsT1BTL0s1cEFTV2dLbDh0RVlCV2dYcW9idkx5Z3A4b1RJSitLV0gwVlEyCmJNcDRkMmlEaExZOVBRU2FWUlgvWWhqbU1YNVFlalI2ZVkrMnpnV0hBb0dCQUp6cUJzcTYrc1FtNkNJTnFaVngKN1hRVkw2ZngwcXFiVDg2TUpTUGZYVnNMbWhsc0QrMk9OK1NCWlg0Q3VkWmo0cFF3eEJ5bGZMNXNuU3ZveERzcgoxZENaUytzeW8xdG9hNDZnVVBKQ3Z0TUVvSFhhUFJueW0yenEzYWNMTStaL1hCQnNRUWRrRTA5Yi94elVWNjB6CkM1WEg3QVVoOThlNWpRaG9UTlVTa0MxekFvR0FYcXdmaG5PM1BCVkZUbWpQaGNwQWlqUkRSWkdaS3RKSXJ0ZEUKVnRDOFFFakFKcVV6T3ArRDVxK0dYbmUvblF0aFNCRFppeTBrQjZpT2IwT1cvOEdTZUswUkNLVk1qNEUvbTNvWApCRmdxL2hvSW9rVm0ySG12U0FxZWlUcVMvY2c2dEZTYWROTUFSZXJQN0VzRjZUeFlCT1ZrNFptbVlhaWJ1NEpnCnRMbjJHenNDZ1lCSlgyNVhsRHZLbWRVK0ZUQW5QWTF4YlFPdDFTS1M5WHlvRjNDZDcvSU5sUEwvK1lKQ2dNTnkKaTlFV2ErUEFHRTNTcWZHTzhXMGxOMkV6bVVRaXZFVlJ3VDhIMXcwc0JKLzRkODRIVU5LNUdKNTRPZml3SzVKQwo3ZDV4bi90SVNvOERYaFNYc2xjVUZHcXpNUTRPZEFxSjBSOTcrMFJzUm9EdGtXMVdGRXpuTVE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
    }
  },
  {
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "kind": "ClusterRole",
    "metadata": {
      "name": "release-name-kubeci-engine",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    },
    "rules": [
      {
        "apiGroups": [
          "admissionregistration.k8s.io"
        ],
        "resources": [
          "validatingwebhookconfigurations"
        ],
        "verbs": [
          "delete",
          "list",
          "watch",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "apiextensions.k8s.io"
        ],
        "resources": [
          "customresourcedefinitions"
        ],
        "verbs": [
          "*"
        ]
      },
      {
        "apiGroups": [
          "extensions"
        ],
        "resources": [
          "thirdpartyresources"
        ],
        "verbs": [
          "*"
        ]
      },
      {
        "apiGroups": [
          "engine.kube.ci",
          "extensions.kube.ci"
        ],
        "resources": [
          "*"
        ],
        "verbs": [
          "*"
        ]
      },
      {
        "apiGroups": [
          "apps"
        ],
        "resources": [
          "deployments",
          "statefulsets"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "batch"
        ],
        "resources": [
          "jobs",
          "cronjobs"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "create",
          "delete",
          "patch"
        ]
      },
      {
        "apiGroups": [
          "extensions"
        ],
        "resources": [
          "replicasets",
          "daemonsets"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "patch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "namespaces",
          "replicationcontrollers"
        ],
        "verbs": [
          "get",
          "list",
          "watch",
          "patch"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "configmaps"
        ],
        "verbs": [
          "create",
          "update",
          "get",
          "delete"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "secrets"
        ],
        "verbs": [
          "get"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "events"
        ],
        "verbs": [
          "create"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "nodes"
        ],
        "verbs": [
          "list"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "pods",
          "pods/exec",
          "pods/log"
        ],
        "verbs": [
          "get",
          "create",
          "list",
          "delete",
          "deletecollection"
        ]
      },
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "serviceaccounts"
        ],
        "verbs": [
          "get",
          "create",
          "patch",
          "delete"
        ]
      },
      {
        "apiGroups": [
          "rbac.authorization.k8s.io"
        ],
        "resources": [
          "clusterroles",
          "roles",
          "rolebindings"
        ],
        "verbs": [
          "get",
          "create",
          "delete",
          "patch"
        ]
      }
    ]
  },
  {
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "kind": "ClusterRoleBinding",
    "metadata": {
      "name": "release-name-kubeci-engine-apiserver-auth-delegator",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    },
    "roleRef": {
      "kind": "ClusterRole",
      "apiGroup": "rbac.authorization.k8s.io",
      "name": "system:auth-delegator"
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "release-name-kubeci-engine",
        "namespace": "default"
      }
    ]
  },
  {
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "kind": "ClusterRoleBinding",
    "metadata": {
      "name": "release-name-kubeci-engine",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    },
    "roleRef": {
      "apiGroup": "rbac.authorization.k8s.io",
      "kind": "ClusterRole",
      "name": "release-name-kubeci-engine"
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "release-name-kubeci-engine",
        "namespace": "default"
      }
    ]
  },
  {
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "kind": "RoleBinding",
    "metadata": {
      "name": "release-name-kubeci-engine-apiserver-extension-server-authentication-reader",
      "namespace": "kube-system",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    },
    "roleRef": {
      "kind": "Role",
      "apiGroup": "rbac.authorization.k8s.io",
      "name": "extension-apiserver-authentication-reader"
    },
    "subjects": [
      {
        "kind": "ServiceAccount",
        "name": "release-name-kubeci-engine",
        "namespace": "default"
      }
    ]
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "release-name-kubeci-engine",
      "namespace": "Osup42Y4a",
      "labels": {
        "app": "kubeci-engine",
        "chart": "kubeci-engine-0.1.0",
        "release": "release-name",
        "heritage": "Helm"
      }
    },
    "spec": {
      "ports": [
        {
          "name": "admission",
          "port": 443,
          "targetPort": 8443
        }
      ],
      "selector": {
        "app": "kubeci-engine",
        "release": "release-name"
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "release-name-kubeci-engine",
      "namespace": "Osup42Y4a",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    },
    "spec": {
      "replicas": 1,
      "selector": {
        "matchLabels": {
          "app": "kubeci-engine",
          "release": "release-name"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app": "kubeci-engine",
            "release": "release-name"
          }
        },
        "spec": {
          "serviceAccountName": "release-name-kubeci-engine",
          "containers": [
            {
              "name": "operator",
              "image": "kubeci/kubeci-engine:0.1.0",
              "imagePullPolicy": "IfNotPresent",
              "args": [
                "run",
                "--v=3",
                "--rbac=true",
                "--docker-registry=kubeci",
                "--secure-port=8443",
                "--audit-log-path=-",
                "--tls-cert-file=/var/serving-cert/tls.crt",
                "--tls-private-key-file=/var/serving-cert/tls.key",
                "--enable-status-subresource=true",
                "--enable-analytics=true"
              ],
              "ports": [
                {
                  "containerPort": 8443
                }
              ],
              "resources": {
                "requests": {
                  "cpu": "100m"
                },
                "seccompProfile": {
                  "type": "RuntimeDefault"
                }
              },
              "volumeMounts": [
                {
                  "mountPath": "/var/serving-cert",
                  "name": "serving-cert"
                }
              ]
            },
            {
              "name": "web-ui",
              "image": "kubeci/kubeci-engine:0.1.0",
              "imagePullPolicy": "IfNotPresent",
              "args": [
                "workplan-viewer"
              ],
              "ports": [
                {
                  "containerPort": 9090
                }
              ],
              "resources": {
                "requests": {
                  "cpu": "100m"
                }
              }
            }
          ],
          "volumes": [
            {
              "name": "serving-cert",
              "secret": {
                "defaultMode": 420,
                "secretName": "release-name-kubeci-engine-apiserver-cert"
              }
            }
          ]
        }
      }
    }
  },
  {
    "apiVersion": "apiregistration.k8s.io/v1beta1",
    "kind": "APIService",
    "metadata": {
      "name": "v1alpha1.validators.engine.kube.ci",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    },
    "spec": {
      "group": "validators.engine.kube.ci",
      "version": "v1alpha1",
      "service": {
        "namespace": "default",
        "name": "release-name-kubeci-engine"
      },
      "caBundle": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lRT3JpTEVyeWJUOTNHc09tSjA3OUtoVEFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWVGdzB5TWpBMk1USXhNVFU1TXpKYUZ3MHpNakEyTURreE1UVTVNekphTUEweApDekFKQmdOVkJBTVRBbU5oTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUEyV0FRCmx5d1ZnNmc4TEVPMXhTcDFjRThWdG5QWmNPOFd1ZW5zZ2NOcDRIVmJSckUzQ1FjZm90QjF4M3piSlNzMDl2NzEKOG5xYldZclFTSmZCbzJxY0hraUVycnpaWCtYYlp1L2dncUlUVGJPWURLYXVMYmVud21xV29kS2tjeXN5YlgxNApVbTBkbDJNTVk5KzkzSmdPNmdqWU1ZSTlGT3Q1Q1VxS04yaDB1cStOZzR5eEdzMytwNXdZb3BxUVhuKzBsNWlsCjczWEtjS05wVlFiRER0cWMwaXNKbjBtdHVTMDdpVjY3dEl6N0pzbURYK09Bbkt2Wk9neFFHam1CZURwRHQ4T2YKa3hacXczZHZZWVlyOVA5VVFTWTY3V25YUHVPQUZBTzlPZVlWUUZ2cWRIM3pFc2JwWkV1eDRpb2pSdDB1bUFRMgpGUUhjTzJmeFhyTzczYS9CSVFJREFRQUJvMkV3WHpBT0JnTlZIUThCQWY4RUJBTUNBcVF3SFFZRFZSMGxCQll3CkZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUUKRkswSnc2czY2T3dXNS90RXBkckJxSG1DWVhjME1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQkovOEpOM1hHMwpzcmo3ejJZcTRRMmFoTi92TTlOTm5aSUNKKzdkRW9QelljRGJLZHY2TFF5VURFdGloNnlZN3ZLNnRKZGo5eXhMCnVqVDZldzhiSGJnOW4yQU9GY0liZndhb1RyTjNLdytoTlZiY2Y1M2VWcE1iYUVXa3ExazdUNGlJNGx6VDVZUmwKazZ1WG9EMFl3a1VqaURhWDhKV1ZJTUt2ckdlZlR5K1g2L0xGd29DZ2Q3YU5kR2NJeS8zM0syRmZ6VnFCdjNjTApTS0NFbjFtVGhEdThpZitLbnZjMHcyRVc3ekdSU0FqV0pvTkdjTUZ4YW94NlYrVUtia1hWY2FqckFpaHZHT0FoCmdmeDdGb1JiYXVaanJMVGZPRHpZdENVRzdRZUJuNHBiOHhDMDhZRW9qbG05SnprSVR5MU05Yy9CN3dIWkJWVlgKckhTV1dKa2xiY0FiCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",
      "groupPriorityMinimum": 10000,
      "versionPriority": 15
    }
  },
  {
    "apiVersion": "apiregistration.k8s.io/v1beta1",
    "kind": "APIService",
    "metadata": {
      "name": "v1alpha1.mutators.engine.kube.ci",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    },
    "spec": {
      "group": "mutators.engine.kube.ci",
      "version": "v1alpha1",
      "service": {
        "namespace": "default",
        "name": "release-name-kubeci-engine"
      },
      "caBundle": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lRT3JpTEVyeWJUOTNHc09tSjA3OUtoVEFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWVGdzB5TWpBMk1USXhNVFU1TXpKYUZ3MHpNakEyTURreE1UVTVNekphTUEweApDekFKQmdOVkJBTVRBbU5oTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUEyV0FRCmx5d1ZnNmc4TEVPMXhTcDFjRThWdG5QWmNPOFd1ZW5zZ2NOcDRIVmJSckUzQ1FjZm90QjF4M3piSlNzMDl2NzEKOG5xYldZclFTSmZCbzJxY0hraUVycnpaWCtYYlp1L2dncUlUVGJPWURLYXVMYmVud21xV29kS2tjeXN5YlgxNApVbTBkbDJNTVk5KzkzSmdPNmdqWU1ZSTlGT3Q1Q1VxS04yaDB1cStOZzR5eEdzMytwNXdZb3BxUVhuKzBsNWlsCjczWEtjS05wVlFiRER0cWMwaXNKbjBtdHVTMDdpVjY3dEl6N0pzbURYK09Bbkt2Wk9neFFHam1CZURwRHQ4T2YKa3hacXczZHZZWVlyOVA5VVFTWTY3V25YUHVPQUZBTzlPZVlWUUZ2cWRIM3pFc2JwWkV1eDRpb2pSdDB1bUFRMgpGUUhjTzJmeFhyTzczYS9CSVFJREFRQUJvMkV3WHpBT0JnTlZIUThCQWY4RUJBTUNBcVF3SFFZRFZSMGxCQll3CkZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUUKRkswSnc2czY2T3dXNS90RXBkckJxSG1DWVhjME1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQkovOEpOM1hHMwpzcmo3ejJZcTRRMmFoTi92TTlOTm5aSUNKKzdkRW9QelljRGJLZHY2TFF5VURFdGloNnlZN3ZLNnRKZGo5eXhMCnVqVDZldzhiSGJnOW4yQU9GY0liZndhb1RyTjNLdytoTlZiY2Y1M2VWcE1iYUVXa3ExazdUNGlJNGx6VDVZUmwKazZ1WG9EMFl3a1VqaURhWDhKV1ZJTUt2ckdlZlR5K1g2L0xGd29DZ2Q3YU5kR2NJeS8zM0syRmZ6VnFCdjNjTApTS0NFbjFtVGhEdThpZitLbnZjMHcyRVc3ekdSU0FqV0pvTkdjTUZ4YW94NlYrVUtia1hWY2FqckFpaHZHT0FoCmdmeDdGb1JiYXVaanJMVGZPRHpZdENVRzdRZUJuNHBiOHhDMDhZRW9qbG05SnprSVR5MU05Yy9CN3dIWkJWVlgKckhTV1dKa2xiY0FiCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",
      "groupPriorityMinimum": 10000,
      "versionPriority": 15
    }
  },
  {
    "apiVersion": "apiregistration.k8s.io/v1beta1",
    "kind": "APIService",
    "metadata": {
      "name": "v1alpha1.extensions.kube.ci",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      }
    },
    "spec": {
      "group": "extensions.kube.ci",
      "version": "v1alpha1",
      "service": {
        "namespace": "default",
        "name": "release-name-kubeci-engine"
      },
      "caBundle": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lRT3JpTEVyeWJUOTNHc09tSjA3OUtoVEFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWVGdzB5TWpBMk1USXhNVFU1TXpKYUZ3MHpNakEyTURreE1UVTVNekphTUEweApDekFKQmdOVkJBTVRBbU5oTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUEyV0FRCmx5d1ZnNmc4TEVPMXhTcDFjRThWdG5QWmNPOFd1ZW5zZ2NOcDRIVmJSckUzQ1FjZm90QjF4M3piSlNzMDl2NzEKOG5xYldZclFTSmZCbzJxY0hraUVycnpaWCtYYlp1L2dncUlUVGJPWURLYXVMYmVud21xV29kS2tjeXN5YlgxNApVbTBkbDJNTVk5KzkzSmdPNmdqWU1ZSTlGT3Q1Q1VxS04yaDB1cStOZzR5eEdzMytwNXdZb3BxUVhuKzBsNWlsCjczWEtjS05wVlFiRER0cWMwaXNKbjBtdHVTMDdpVjY3dEl6N0pzbURYK09Bbkt2Wk9neFFHam1CZURwRHQ4T2YKa3hacXczZHZZWVlyOVA5VVFTWTY3V25YUHVPQUZBTzlPZVlWUUZ2cWRIM3pFc2JwWkV1eDRpb2pSdDB1bUFRMgpGUUhjTzJmeFhyTzczYS9CSVFJREFRQUJvMkV3WHpBT0JnTlZIUThCQWY4RUJBTUNBcVF3SFFZRFZSMGxCQll3CkZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUUKRkswSnc2czY2T3dXNS90RXBkckJxSG1DWVhjME1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQkovOEpOM1hHMwpzcmo3ejJZcTRRMmFoTi92TTlOTm5aSUNKKzdkRW9QelljRGJLZHY2TFF5VURFdGloNnlZN3ZLNnRKZGo5eXhMCnVqVDZldzhiSGJnOW4yQU9GY0liZndhb1RyTjNLdytoTlZiY2Y1M2VWcE1iYUVXa3ExazdUNGlJNGx6VDVZUmwKazZ1WG9EMFl3a1VqaURhWDhKV1ZJTUt2ckdlZlR5K1g2L0xGd29DZ2Q3YU5kR2NJeS8zM0syRmZ6VnFCdjNjTApTS0NFbjFtVGhEdThpZitLbnZjMHcyRVc3ekdSU0FqV0pvTkdjTUZ4YW94NlYrVUtia1hWY2FqckFpaHZHT0FoCmdmeDdGb1JiYXVaanJMVGZPRHpZdENVRzdRZUJuNHBiOHhDMDhZRW9qbG05SnprSVR5MU05Yy9CN3dIWkJWVlgKckhTV1dKa2xiY0FiCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",
      "groupPriorityMinimum": 10000,
      "versionPriority": 15
    }
  },
  {
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "kind": "ClusterRole",
    "metadata": {
      "name": "appscode:kubeci-engine:edit",
      "labels": {
        "rbac.authorization.k8s.io/aggregate-to-admin": "true",
        "rbac.authorization.k8s.io/aggregate-to-edit": "true"
      },
      "annotations": {
        "helm.sh/hook": "post-install,post-upgrade",
        "helm.sh/hook-delete-policy": "before-hook-creation"
      }
    },
    "rules": [
      {
        "apiGroups": [
          "engine.kube.ci"
        ],
        "resources": [
          "workflows",
          "workplans"
        ],
        "verbs": [
          "create",
          "delete",
          "deletecollection",
          "get",
          "list",
          "patch",
          "update",
          "watch"
        ]
      }
    ]
  },
  {
    "kind": "ClusterRole",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "appscode:kubeci-engine:view",
      "labels": {
        "rbac.authorization.k8s.io/aggregate-to-view": "true"
      },
      "annotations": {
        "helm.sh/hook": "post-install,post-upgrade",
        "helm.sh/hook-delete-policy": "before-hook-creation"
      }
    },
    "rules": [
      {
        "apiGroups": [
          "engine.kube.ci"
        ],
        "resources": [
          "workflows",
          "workplans"
        ],
        "verbs": [
          "get",
          "list",
          "watch"
        ]
      }
    ]
  },
  {
    "apiVersion": "batch/v1",
    "kind": "Job",
    "metadata": {
      "name": "release-name-cleaner",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      },
      "annotations": {
        "helm.sh/hook": "pre-delete",
        "helm.sh/hook-delete-policy": "hook-succeeded,hook-failed"
      }
    },
    "spec": {
      "backoffLimit": 3,
      "activeDeadlineSeconds": 120,
      "template": {
        "spec": {
          "serviceAccountName": "release-name-kubeci-engine",
          "containers": [
            {
              "name": "busybox",
              "image": "appscode/kubectl:v1.11",
              "command": [
                "sh",
                "-c",
                "sleep 2; kubectl delete validatingwebhookconfigurations validators.engine.kube.ci || true; kubectl delete mutatingwebhookconfigurations mutators.engine.kube.ci || true"
              ],
              "imagePullPolicy": "IfNotPresent"
            }
          ],
          "restartPolicy": "Never"
        }
      }
    }
  },
  {
    "apiVersion": "admissionregistration.k8s.io/v1beta1",
    "kind": "MutatingWebhookConfiguration",
    "metadata": {
      "name": "mutators.engine.kube.ci",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      },
      "annotations": {
        "helm.sh/hook": "post-install,post-upgrade",
        "helm.sh/hook-delete-policy": "before-hook-creation"
      }
    },
    "webhooks": [
      {
        "name": "workflow.mutators.engine.kube.ci",
        "clientConfig": {
          "service": {
            "namespace": "default",
            "name": "kubernetes",
            "path": "/apis/mutators.engine.kube.ci/v1alpha1/workflows"
          },
          "caBundle": "bm90LWNhLWNlcnQ="
        },
        "rules": [
          {
            "operations": [
              "CREATE",
              "UPDATE"
            ],
            "apiGroups": [
              "engine.kube.ci"
            ],
            "apiVersions": [
              "*"
            ],
            "resources": [
              "workflows"
            ]
          }
        ],
        "failurePolicy": "Fail"
      }
    ]
  },
  {
    "apiVersion": "admissionregistration.k8s.io/v1beta1",
    "kind": "ValidatingWebhookConfiguration",
    "metadata": {
      "name": "validators.engine.kube.ci",
      "labels": {
        "chart": "kubeci-engine-0.1.0",
        "app": "kubeci-engine",
        "heritage": "Helm",
        "release": "release-name"
      },
      "annotations": {
        "helm.sh/hook": "post-install,post-upgrade",
        "helm.sh/hook-delete-policy": "before-hook-creation"
      }
    },
    "webhooks": [
      {
        "name": "workflow.validators.engine.kube.ci",
        "clientConfig": {
          "service": {
            "namespace": "default",
            "name": "kubernetes",
            "path": "/apis/validators.engine.kube.ci/v1alpha1/workflows"
          },
          "caBundle": "bm90LWNhLWNlcnQ="
        },
        "rules": [
          {
            "operations": [
              "CREATE",
              "UPDATE"
            ],
            "apiGroups": [
              "engine.kube.ci"
            ],
            "apiVersions": [
              "*"
            ],
            "resources": [
              "workflows"
            ]
          }
        ],
        "failurePolicy": "Fail"
      },
      {
        "name": "workplan.validators.engine.kube.ci",
        "clientConfig": {
          "service": {
            "namespace": "default",
            "name": "kubernetes",
            "path": "/apis/validators.engine.kube.ci/v1alpha1/workplans"
          },
          "caBundle": "bm90LWNhLWNlcnQ="
        },
        "rules": [
          {
            "operations": [
              "UPDATE"
            ],
            "apiGroups": [
              "engine.kube.ci"
            ],
            "apiVersions": [
              "*"
            ],
            "resources": [
              "workplans"
            ]
          }
        ],
        "failurePolicy": "Fail"
      }
    ]
  }
]