[
  {
    "apiVersion": "v1",
    "kind": "Secret",
    "metadata": {
      "name": "release-name-kubernetes-policy-controller-cert",
      "namespace": "Wb00v5PK1z6yqH6",
      "labels": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "helm.sh/chart": "kubernetes-policy-controller-0.1.2",
        "app.kubernetes.io/instance": "release-name",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "type": "Opaque",
    "data": {
      "tls.crt": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURSVENDQWkyZ0F3SUJBZ0lRVStyNjhlQU5JdGE1WGsvSW91SDRJekFOQmdrcWhraUc5dzBCQVFzRkFEQWIKTVJrd0Z3WURWUVFERXhCdmNHRXRZV1J0YVhOemFXOXVMV05oTUI0WERUSXlNRFl4TWpFME1EWXhNRm9YRFRNeQpNRFl3T1RFME1EWXhNRm93UURFK01Ed0dBMVVFQXhNMWNtVnNaV0Z6WlMxdVlXMWxMV3QxWW1WeWJtVjBaWE10CmNHOXNhV041TFdOdmJuUnliMnhzWlhJdVpHVm1ZWFZzZEM1emRtTXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUEKQTRJQkR3QXdnZ0VLQW9JQkFRRFNKOXRaMFBjSzhqTUxIWkI3RXRBek05bUpjUWRmbHY4T0JXYkxtMlFOQzZybwpMR3MyVlVKL1NZdVBtYzRvYWQ1c1VHZXhnSFRIUEZ1SVZZZXFhbXN6dWF0QWovbU5kTGthZVh5NXFSMTRqU0kvCkw1ME5aZWlleDBKQlVPU3RHSDJHUVdkMDNHVVlTaWdkOTBMQkcrVkVpRjRCYXVOVXM3b1c3U3NPc3BNRDRQSDYKMjhiQ1hMaHJ5NmlBZVRFUU42U3hWR2IwTVpnYldQV3pndzdqMlRzeVNuTXowcVF4T1JGb1Q3aGN5ZWd3a0ordgo5OUMrN0pwWVpoblE2bENqcDFMUlNDNWxJejlvNi9SNzVxZVJEMnkvL1pwOFFSS0lWeXhBOERXQ3lXZ0VabWJzCnJVN0ViMW5SUDBEWVpVQTk3ZDNRWWR3WDQ2Y2NDeDlJZmNySDNpV0ZBZ01CQUFHallEQmVNQTRHQTFVZER3RUIKL3dRRUF3SUZvREFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0RBWURWUjBUQVFILwpCQUl3QURBZkJnTlZIU01FR0RBV2dCU3pqOVpwa2tKMXRvS3hNYWFhNDZNRmRWaFZ4VEFOQmdrcWhraUc5dzBCCkFRc0ZBQU9DQVFFQXArQnBuOUpXK2x0LzJ6OWttOHl3VDZNVjRBczZFNWRrc2dsR2Zic2kxalBtSkp0eGc5N1AKWTh1K3hWZVQzMFM0UndHMVBUWmRtaTQyYkNuQUovanZob0xWVk55bnVqNi9YemVtWTZEdUJ1QnNaQmtUVUVEVgpGRTh2eUNyVXpiUkM2dkVDMHNvWWxlaDJicGx5TDlTWEs3Q0pFVXQ0YTFUZ044Q2kwbWkzek4yeU53Y2FXM253CmtxNGE5NFhxSkdVNnZBNk1CdDNEUVgrZkNuaHlxaldsUU1aUlpiN29rVGZVWUkzd1k3dlFIUHk3aGdjMGJJNksKRDZabHdmaDVSSStNUjlvbVVheU1RQ1hGeFBJazA1ZzRMdmhwUFROTGpwL0Q4b1ZrZDE5Wk1MNlNhZmg5NSs4bQp3MnI2cG5xUThhZlZ2cyt3ZndZMlp3VFpTS2xWVkk1VW9BPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=",
      "tls.key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBMGlmYldkRDNDdkl6Q3gyUWV4TFFNelBaaVhFSFg1Yi9EZ1ZteTV0a0RRdXE2Q3hyCk5sVkNmMG1MajVuT0tHbmViRkJuc1lCMHh6eGJpRldIcW1wck03bXJRSS81alhTNUdubDh1YWtkZUkwaVB5K2QKRFdYb25zZENRVkRrclJoOWhrRm5kTnhsR0Vvb0hmZEN3UnZsUkloZUFXcmpWTE82RnUwckRyS1RBK0R4K3R2Rwp3bHk0YTh1b2dIa3hFRGVrc1ZSbTlER1lHMWoxczRNTzQ5azdNa3B6TTlLa01Ua1JhRSs0WE1ub01KQ2ZyL2ZRCnZ1eWFXR1laME9wUW82ZFMwVWd1WlNNL2FPdjBlK2Fua1E5c3YvMmFmRUVTaUZjc1FQQTFnc2xvQkdabTdLMU8KeEc5WjBUOUEyR1ZBUGUzZDBHSGNGK09uSEFzZlNIM0t4OTRsaFFJREFRQUJBb0lCQUZJeVZxQUZsR3FLbXA1UgpYTzVXU0dxT2NCcEt4Q2lHSlpJMVdLUndUYXl3a0pNb3RISlczS0J1Z3BDVEJzaFZ5REl6TEt1SFk2VjluUXR3CjhKUWQ5WG9RdDhPVHpIYWdYYm5XSkl0MWN0cHcwU0ZIblRUZFZDT3VLZUxrSWR6MkJEcWJvRHhiNjRxWmpxRlIKMGFFNEtPOHFLeUtBelJPWERFVGxWSDcySjN4UExNSWsvemdGZElaUmlkbTBUaVVJQkd2WUJrY0xjVzBkSXFtYgpJTlZJeGJpWERwZXFGVXBvSFZucGN1aFE3YzM1NFJMZ3dIdFdKS3FSdUJBL01ZZENBTnR5U3hka3RPeG10b0VzClhCeG96ekJYWUtVUWdvM2JROHZpajdVZlM2MG5Fc0JmL1NYcWdlK0N2TXFueFBvOUNtb0Nickl5YjdhQ24vT3gKZENMS2dVMENnWUVBNmxxbUlIZEtSZis2TEY3cHZjK1U3ekRoa0tGWDdkZFl6aHdPZlVBcVZCeU9lejhUZHN5YwpLOGdmQlJWWkFkQ2hIdmN3UFhraDFoMjAyZnZoajdnOTltalZBTFdqa1RnSzFRUzQrUjZCOFpNeGQ3aUVobFRJCm9TalN2c2RSMjFjc1p6aEJjMEl4OTZyK2JVRURxam9Sb1FoU0N6UmVwZ3NiK1ZiZlQ2WnJ3Y3NDZ1lFQTVaRUkKRmEzeXB3bGRhbEpWL3V0SXMxTnhNQ2c2WGFEOE1TYmg3dndrcEE3RDlOcFM5NTRRbEl6TUY0Q1JxcHpjTlFxeQpHLzdZNWZWcTlxL1IwUkJ5MFZBVWIybjRhKzl0YWJzZlNZS0lhV1Y2aW9iRGVQajIwb2ZXWmtSRlJyNEprbjIyCjVUOUZBVXRKNi9uWlFXSlVEbk5oNmNBYWw1elVtUXJTa01mQmkrOENnWUVBdyt1V3VNdWhuMVdFU2pYckNWRXkKUEtsTDJnTFlwTEVFd0FLNnBrRnZZYlFoOWEwczA0T0pDQjBjdWI0NEZBbGJ1YXlEZXRENjFhc3VGNUs0NXRMcgpra1hmMU9FRlpwRklsUCtHdUZXbDR0VGdaU3N3TjdGSHJWdVltLys4VWpmVm1sRndmakFYMytybkcyVmY3Lzd0CjRBYzV0NzVIWmw4aE90bENoYThtcFBNQ2dZQXJlVks1b0U1eW1aQnFRUnR1QWlxcll5THRSc0QrMkN6S05oM1YKUDBURkdOSzlQTmMzYzJTYWJTdDlTK2pLRVppV0p1ZGg2OW94ZWs5K1ZmOTdBdzFyWENueWkzUHpKTTFvbDNvdQpWcHowc0xZTEk4aEMwWXNVaFlyeHBQNGxqbm1MbDJrYWN1ZmpmZG1LNmE3ZDlmd0xISWl2VnFUeWowMm5pZWdrCmFOL2JXd0tCZ1FEQlVSNmphSUgvbFYvbmZoVFNvK3N5NnlxV3dvVmYzYndXMkcvbW96NUhOa2dFM3dYbnBhNEEKaVJKV1QreFlPZmR2TzJWd3c1WkdleEU1QkJsTnM4eW5KR2hVSmVrdEVZR01kYXQyRnAzVXdjSHd6RngzK242aAoxdUEwUWx1eUw3cU5lTHlZaXZLbHFMSGd3WkRmVEpDL2hld2pZZDZ6ejRNSHFKYUI0SWNvSFE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ConfigMap",
    "metadata": {
      "name": "release-name-kubernetes-matches",
      "namespace": "Wb00v5PK1z6yqH6",
      "labels": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "helm.sh/chart": "kubernetes-policy-controller-0.1.2",
        "app.kubernetes.io/instance": "release-name",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "data": {
      "matches.rego": "package k8s\nimport data.kubernetes\n\nmatches[[kind, namespace, name, resource]] {\n  resource := kubernetes[kind][namespace][name].object\n}\n\nmatches[[kind, namespace, name, resource]] {\n    resource := kubernetes[kind][namespace][name]\n}"
    }
  },
  {
    "apiVersion": "v1",
    "kind": "ConfigMap",
    "metadata": {
      "name": "release-name-kubernetes-policymatches",
      "namespace": "Wb00v5PK1z6yqH6",
      "labels": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "helm.sh/chart": "kubernetes-policy-controller-0.1.2",
        "app.kubernetes.io/instance": "release-name",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "data": {
      "matches.rego": "package k8s\nimport data.kubernetes.policies\n\n# Matches provides an abstraction to find policies that match the (name). \npolicymatches[[name, policy]] {\n    policy := policies[name]\n}"
    }
  },
  {
    "kind": "ClusterRoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "name": "release-name-opa-viewer",
      "labels": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "helm.sh/chart": "kubernetes-policy-controller-0.1.2",
        "app.kubernetes.io/instance": "release-name",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "roleRef": {
      "kind": "ClusterRole",
      "name": "view",
      "apiGroup": "rbac.authorization.k8s.io"
    },
    "subjects": [
      {
        "kind": "Group",
        "name": "system:serviceaccounts:default",
        "apiGroup": "rbac.authorization.k8s.io"
      }
    ]
  },
  {
    "kind": "Role",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "namespace": "Wb00v5PK1z6yqH6",
      "name": "release-name-configmap-modifier",
      "labels": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "helm.sh/chart": "kubernetes-policy-controller-0.1.2",
        "app.kubernetes.io/instance": "release-name",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "rules": [
      {
        "apiGroups": [
          ""
        ],
        "resources": [
          "configmaps"
        ],
        "verbs": [
          "update",
          "patch"
        ]
      }
    ]
  },
  {
    "kind": "RoleBinding",
    "apiVersion": "rbac.authorization.k8s.io/v1",
    "metadata": {
      "namespace": "Wb00v5PK1z6yqH6",
      "name": "release-name-configmap-modifier",
      "labels": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "helm.sh/chart": "kubernetes-policy-controller-0.1.2",
        "app.kubernetes.io/instance": "release-name",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "roleRef": {
      "kind": "Role",
      "name": "release-name-configmap-modifier",
      "apiGroup": "rbac.authorization.k8s.io"
    },
    "subjects": [
      {
        "kind": "Group",
        "name": "system:serviceaccounts:default",
        "apiGroup": "rbac.authorization.k8s.io"
      }
    ]
  },
  {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "name": "release-name-kubernetes-policy-controller",
      "namespace": "Wb00v5PK1z6yqH6",
      "labels": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "helm.sh/chart": "kubernetes-policy-controller-0.1.2",
        "app.kubernetes.io/instance": "release-name",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "type": "ClusterIP",
      "ports": [
        {
          "name": "https",
          "protocol": "TCP",
          "port": 443,
          "targetPort": 443
        }
      ],
      "selector": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "app.kubernetes.io/instance": "release-name"
      }
    }
  },
  {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "name": "release-name-kubernetes-policy-controller",
      "namespace": "Wb00v5PK1z6yqH6",
      "labels": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "helm.sh/chart": "kubernetes-policy-controller-0.1.2",
        "app.kubernetes.io/instance": "release-name",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "spec": {
      "replicas": 1,
      "selector": {
        "matchLabels": {
          "app.kubernetes.io/name": "kubernetes-policy-controller",
          "app.kubernetes.io/instance": "release-name"
        }
      },
      "template": {
        "metadata": {
          "labels": {
            "app.kubernetes.io/name": "kubernetes-policy-controller",
            "app.kubernetes.io/instance": "release-name"
          },
          "annotations": {
            "checksum/config": "b948a7076e8b2fdb8e02eb270c5834953474adcad2bb7d1f98fee05b8b800573"
          }
        },
        "spec": {
          "containers": [
            {
              "name": "opa",
              "image": "openpolicyagent/opa:0.10.1",
              "imagePullPolicy": "IfNotPresent",
              "args": [
                "run",
                "--server",
                "--addr=http://127.0.0.1:8181"
              ]
            },
            {
              "name": "kube-mgmt",
              "image": "openpolicyagent/kube-mgmt:0.6",
              "imagePullPolicy": "IfNotPresent",
              "args": [
                "--replicate-cluster=v1/namespaces",
                "--replicate=extensions/v1beta1/ingresses",
                "--replicate=v1/pods"
              ]
            },
            {
              "name": "kubernetes-policy-controller",
              "image": "nikhilbh/kubernetes-policy-controller:1.2",
              "imagePullPolicy": "IfNotPresent",
              "args": [
                "--addr=0.0.0.0:443",
                "--addr=http://127.0.0.1:7925"
              ],
              "volumeMounts": [
                {
                  "readOnly": true,
                  "mountPath": "/certs",
                  "name": "opa-server"
                }
              ],
              "resources": {}
            }
          ],
          "volumes": [
            {
              "name": "opa-server",
              "secret": {
                "secretName": "release-name-kubernetes-policy-controller-cert"
              }
            }
          ]
        }
      }
    }
  },
  {
    "kind": "MutatingWebhookConfiguration",
    "apiVersion": "admissionregistration.k8s.io/v1beta1",
    "metadata": {
      "name": "release-name-kubernetes-policy-controller",
      "labels": {
        "app.kubernetes.io/name": "kubernetes-policy-controller",
        "helm.sh/chart": "kubernetes-policy-controller-0.1.2",
        "app.kubernetes.io/instance": "release-name",
        "app.kubernetes.io/managed-by": "Helm"
      }
    },
    "webhooks": [
      {
        "name": "mutating.webhook.kubernetes-policy-controller",
        "failurePolicy": "Ignore",
        "namespaceSelector": {
          "matchLabels": {
            "opa-mutation": "enabled"
          }
        },
        "rules": [
          {
            "apiGroups": [
              "*"
            ],
            "apiVersions": [
              "*"
            ],
            "operations": [
              "CREATE",
              "UPDATE"
            ],
            "resources": [
              "*"
            ]
          }
        ],
        "clientConfig": {
          "caBundle": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJakNDQWdxZ0F3SUJBZ0lSQU9iS29tUlpsbGtBc2hGQzkrQldTUDh3RFFZSktvWklodmNOQVFFTEJRQXcKR3pFWk1CY0dBMVVFQXhNUWIzQmhMV0ZrYldsemMybHZiaTFqWVRBZUZ3MHlNakEyTVRJeE5EQTJNVEJhRncwegpNakEyTURreE5EQTJNVEJhTUJzeEdUQVhCZ05WQkFNVEVHOXdZUzFoWkcxcGMzTnBiMjR0WTJFd2dnRWlNQTBHCkNTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFETDVrVDhKaFF1TWhnbW16d1E3cERnbFE4ZE80ZEcKSnMrRmxMcFQ5UkdQd0RKdHg3RitVQ0hLc2hHL2FZTXF0MCtUUk5OVnBHL3lLV0N1VUtaS2N1R05GQ0RRWnZkWQpDdkkrY2FrNnVTeFd5L3owQ2FOV1Y1cjRmSXZUUk1Nc3VQS3RkMGlWdXY2SHpCYXdzODdQV1hHazVLSGQ2dERxCjN1M2JDbFg2Ly9jYzAwZ0VqQm5NM0VEUGtsdWZaa0doWUs4Q3QwM3NoSHg3OTdJcWFrdGRrU2RnK1VENm9BdFEKdk80MnF3WTdOQmU0dmc0bUVCaXVacjB5Vm1JSERTSm1LbmJZUVI0MTdpTk1iQVJlR0VPK2RlTVF2YVVReWNkbwpjZjg4S3J3WFpkTWRFekJ2ZStqdURmTDNSQTRhNzZkdnNHYi9jeUpyWlJBbUJQa0pVMGJBbE00M0FnTUJBQUdqCllUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ3BEQWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0RBUVlJS3dZQkJRVUgKQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVXM0L1dhWkpDZGJhQ3NUR21tdU9qQlhWWQpWY1V3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUxuRVpNNDM3eVBJc283SmNZQ3Ivc0ljdnJiQ1BDbjlTY2t0CmlLcU8xUXBwNlREK1RjNUtlK3R0NmY4VER4QldxL1JqOUJCQ2RmaytrRFVJYXlvN3NBbDY2ZnFTdTBkeGZ2NU4KOXoyb0J0aXlNREhacCtvNy9vQUV0S1NqeGF0ZU5hdzRJWnFRdUlaNWtObTdhT0dYTFVvN2pHOUFkTkVWNnRqcQo4SUZ1WU9lUWlhcW5VZGprQnkwaDFPUFFNenR5cHUxUHI4eUs3K2F0SlluYThnL3JtV0dqZnVSRVJrTWhiajVOCnF5TGJrT0xrUy9oL2M1L0lhSEZZaFFBT0ZUamo1d2FzTTl6bDN2dDBZTUY2N096M2F2WGEvMjhobG5MdFh4WjUKWHdOSC9ReDhxZ0I4c3MwUGJYK3phY2xpaGRiaUwxZ1p3N0xKK1krK2lJeXYyWUYxMkwwPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==",
          "service": {
            "name": "release-name-kubernetes-policy-controller",
            "namespace": "default",
            "path": "/v1/admit"
          }
        }
      }
    ]
  }
]